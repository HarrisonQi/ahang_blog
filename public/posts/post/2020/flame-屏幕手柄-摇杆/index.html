<!DOCTYPE html>
<html lang="zh-CN"
  x-data
  :class="$store.darkMode.class()"
  :data-theme="$store.darkMode.theme()">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flame å±å¹•æ‰‹æŸ„/æ‘‡æ† | é˜¿èˆªçš„æŠ€æœ¯å°ç«™</title>

    

<link rel="canonical" href="http://localhost:1313/posts/post/2020/flame-%E5%B1%8F%E5%B9%95%E6%89%8B%E6%9F%84-%E6%91%87%E6%9D%86/" />



<meta name="author" content="" />
<meta name="description" content="å¯ä»¥çœ‹åˆ°, ç›®å‰æœ€ä¸»æµçš„æ‰‹æœºæ¸¸æˆéƒ½ä½¿ç”¨å±ä¸Šæ‰‹æŸ„/æ‘‡æ†è¿›è¡Œæ§åˆ¶, æ¯”å¦‚:
[caption id=&ldquo;attachment_1286&rdquo; align=&ldquo;aligncenter&rdquo; width=&ldquo;700&rdquo;] League of Legends Mobile (è‹±é›„è”ç›Ÿæ‰‹æ¸¸)[/caption]
[caption id=&ldquo;attachment_1284&rdquo; align=&ldquo;aligncenter&rdquo; width=&ldquo;700&rdquo;] PUBG Mobile (å’Œå¹³ç²¾è‹±)[/caption]
[caption id=&ldquo;attachment_1288&rdquo; align=&ldquo;aligncenter&rdquo; width=&ldquo;700&rdquo;] Minecraft PE(æˆ‘çš„ä¸–ç•Œæ‰‹æœºç‰ˆ)[/caption]
ä»¥ä¸Šæ¸¸æˆéƒ½åœ¨å½“å‰æ‰‹æ¸¸æ¦œ(2020.04)æ’åå‰äº”.
[epcl_box type=&ldquo;information&rdquo;]çœ‹å¾—å‡ºæ¥, ç›®å‰çš„æ ¸å¿ƒç©æ³•ã€æ“ä½œäº¤äº’éƒ½ç¦»ä¸å¼€æ‰‹æŸ„/æ‘‡æ†![/epcl_box]
æ‰€ä»¥, æœ¬ç¯‡æ–‡ç« å°±æ¥æ•™å¤§å®¶åœ¨ä½¿ç”¨Flameæ¡†æ¶æ—¶, åœ¨å±å¹•ä¸Šå±•ç¤ºæ‘‡æ†, å¹¶æ§åˆ¶æŸäº›component!
æˆ‘ä»¬è¦åšçš„é¡¹ç›®åç§°ä¸ºLame Tank 360(Lameå¦å…‹360).
æœ¬é¡¹ç›®å°†å®Œæ•´æ”¯æŒ360Â°çš„æ—‹è½¬. å¹¶å°†å¦å…‹çš„&quot;ç‚®å¡”&quot;ä¸&quot;å¦å…‹èº«ä½“&quot;åˆ†å¼€. å› æ­¤, æˆ‘ä»¬å¿…é¡»å»ºç«‹ä¸¤ä¸ªæ‘‡æ†.
éœ€å…·å¤‡çš„æ¡ä»¶ è‹¥æƒ³é¡ºåˆ©å­¦ä¹ æœ¬ç¯‡æ•™ç¨‹, ä½ éœ€è¦å…·å¤‡:
æŒæ¡Flutterçš„åŸºç¡€ç”¨æ³•. å·²å®Œæ•´å­¦ä¹ Flameç³»åˆ—æ•™ç¨‹. [epcl_box type=&ldquo;notice&rdquo;]å¦‚æœä½ æ²¡æœ‰æ»¡è¶³ä¸Šè¿°æ¡ä»¶, ä½ å°†æ— æ³•é¡ºåˆ©å®Œæˆè¿™ç¯‡æ•™ç¨‹. å»ºè®®å…ˆé˜…è¯»ã€ŠFlutteræ¸¸æˆå¼€å‘-Flameæ•™ç¨‹ã€‹ ![/epcl_box]
å¼€å§‹ åˆ›å»ºFlutteré¡¹ç›® flutter create lame_tank_360 [epcl_box type=&ldquo;information&rdquo;]é˜¿èˆªçš„æ•™ç¨‹, åªè¦æ¶‰åŠåˆ°åˆ›å»ºé¡¹ç›®ã€å‘½åçš„ç›¸å…³æ“ä½œ, èº«ä¸ºè¯»è€…çš„ä½ å¯ä»¥ç”¨é˜¿èˆªæ•™ç¨‹æä¾›çš„, ä½ ä¹Ÿå¯ä»¥è‡ªå·±èµ·å! åˆ«å¿˜äº†æ›¿æ¢ä»£ç ä¸­ç‰µæ‰¯çš„åç§°ä¸ºä½ è‡ªå·±çš„![/epcl_box]
åˆå§‹åŒ–é¡¹ç›®è®¾ç½® ç°åœ¨é¡¹ç›®æ˜¯å¯ä»¥è¿è¡Œçš„, ä½†æ˜¯åªæ˜¯Flutteré»˜è®¤ç”Ÿæˆçš„
" />


<meta name="keywords" content="Flame,Flutter,æ¸¸æˆå¼€å‘">



<meta name="generator" content="Hugo 0.145.0">


<meta property="og:url" content="http://localhost:1313/posts/post/2020/flame-%E5%B1%8F%E5%B9%95%E6%89%8B%E6%9F%84-%E6%91%87%E6%9D%86/">
  <meta property="og:site_name" content="é˜¿èˆªçš„æŠ€æœ¯å°ç«™">
  <meta property="og:title" content="Flame å±å¹•æ‰‹æŸ„/æ‘‡æ†">
  <meta property="og:description" content="å¯ä»¥çœ‹åˆ°, ç›®å‰æœ€ä¸»æµçš„æ‰‹æœºæ¸¸æˆéƒ½ä½¿ç”¨å±ä¸Šæ‰‹æŸ„/æ‘‡æ†è¿›è¡Œæ§åˆ¶, æ¯”å¦‚:
[caption id=â€œattachment_1286â€ align=â€œaligncenterâ€ width=â€œ700â€] League of Legends Mobile (è‹±é›„è”ç›Ÿæ‰‹æ¸¸)[/caption]
[caption id=â€œattachment_1284â€ align=â€œaligncenterâ€ width=â€œ700â€] PUBG Mobile (å’Œå¹³ç²¾è‹±)[/caption]
[caption id=â€œattachment_1288â€ align=â€œaligncenterâ€ width=â€œ700â€] Minecraft PE(æˆ‘çš„ä¸–ç•Œæ‰‹æœºç‰ˆ)[/caption]
ä»¥ä¸Šæ¸¸æˆéƒ½åœ¨å½“å‰æ‰‹æ¸¸æ¦œ(2020.04)æ’åå‰äº”.
[epcl_box type=â€œinformationâ€]çœ‹å¾—å‡ºæ¥, ç›®å‰çš„æ ¸å¿ƒç©æ³•ã€æ“ä½œäº¤äº’éƒ½ç¦»ä¸å¼€æ‰‹æŸ„/æ‘‡æ†![/epcl_box]
æ‰€ä»¥, æœ¬ç¯‡æ–‡ç« å°±æ¥æ•™å¤§å®¶åœ¨ä½¿ç”¨Flameæ¡†æ¶æ—¶, åœ¨å±å¹•ä¸Šå±•ç¤ºæ‘‡æ†, å¹¶æ§åˆ¶æŸäº›component!
æˆ‘ä»¬è¦åšçš„é¡¹ç›®åç§°ä¸ºLame Tank 360(Lameå¦å…‹360).
æœ¬é¡¹ç›®å°†å®Œæ•´æ”¯æŒ360Â°çš„æ—‹è½¬. å¹¶å°†å¦å…‹çš„&#34;ç‚®å¡”&#34;ä¸&#34;å¦å…‹èº«ä½“&#34;åˆ†å¼€. å› æ­¤, æˆ‘ä»¬å¿…é¡»å»ºç«‹ä¸¤ä¸ªæ‘‡æ†.
éœ€å…·å¤‡çš„æ¡ä»¶ è‹¥æƒ³é¡ºåˆ©å­¦ä¹ æœ¬ç¯‡æ•™ç¨‹, ä½ éœ€è¦å…·å¤‡:
æŒæ¡Flutterçš„åŸºç¡€ç”¨æ³•. å·²å®Œæ•´å­¦ä¹ Flameç³»åˆ—æ•™ç¨‹. [epcl_box type=â€œnoticeâ€]å¦‚æœä½ æ²¡æœ‰æ»¡è¶³ä¸Šè¿°æ¡ä»¶, ä½ å°†æ— æ³•é¡ºåˆ©å®Œæˆè¿™ç¯‡æ•™ç¨‹. å»ºè®®å…ˆé˜…è¯»ã€ŠFlutteræ¸¸æˆå¼€å‘-Flameæ•™ç¨‹ã€‹ ![/epcl_box]
å¼€å§‹ åˆ›å»ºFlutteré¡¹ç›® flutter create lame_tank_360 [epcl_box type=â€œinformationâ€]é˜¿èˆªçš„æ•™ç¨‹, åªè¦æ¶‰åŠåˆ°åˆ›å»ºé¡¹ç›®ã€å‘½åçš„ç›¸å…³æ“ä½œ, èº«ä¸ºè¯»è€…çš„ä½ å¯ä»¥ç”¨é˜¿èˆªæ•™ç¨‹æä¾›çš„, ä½ ä¹Ÿå¯ä»¥è‡ªå·±èµ·å! åˆ«å¿˜äº†æ›¿æ¢ä»£ç ä¸­ç‰µæ‰¯çš„åç§°ä¸ºä½ è‡ªå·±çš„![/epcl_box]
åˆå§‹åŒ–é¡¹ç›®è®¾ç½® ç°åœ¨é¡¹ç›®æ˜¯å¯ä»¥è¿è¡Œçš„, ä½†æ˜¯åªæ˜¯Flutteré»˜è®¤ç”Ÿæˆçš„">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2020-05-20T00:00:00+00:00">
    <meta property="article:modified_time" content="2020-05-20T00:00:00+00:00">
    <meta property="article:tag" content="Flame">
    <meta property="article:tag" content="Flutter">
    <meta property="article:tag" content="æ¸¸æˆå¼€å‘">




  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Flame å±å¹•æ‰‹æŸ„/æ‘‡æ†">
  <meta name="twitter:description" content="å¯ä»¥çœ‹åˆ°, ç›®å‰æœ€ä¸»æµçš„æ‰‹æœºæ¸¸æˆéƒ½ä½¿ç”¨å±ä¸Šæ‰‹æŸ„/æ‘‡æ†è¿›è¡Œæ§åˆ¶, æ¯”å¦‚:
[caption id=â€œattachment_1286â€ align=â€œaligncenterâ€ width=â€œ700â€] League of Legends Mobile (è‹±é›„è”ç›Ÿæ‰‹æ¸¸)[/caption]
[caption id=â€œattachment_1284â€ align=â€œaligncenterâ€ width=â€œ700â€] PUBG Mobile (å’Œå¹³ç²¾è‹±)[/caption]
[caption id=â€œattachment_1288â€ align=â€œaligncenterâ€ width=â€œ700â€] Minecraft PE(æˆ‘çš„ä¸–ç•Œæ‰‹æœºç‰ˆ)[/caption]
ä»¥ä¸Šæ¸¸æˆéƒ½åœ¨å½“å‰æ‰‹æ¸¸æ¦œ(2020.04)æ’åå‰äº”.
[epcl_box type=â€œinformationâ€]çœ‹å¾—å‡ºæ¥, ç›®å‰çš„æ ¸å¿ƒç©æ³•ã€æ“ä½œäº¤äº’éƒ½ç¦»ä¸å¼€æ‰‹æŸ„/æ‘‡æ†![/epcl_box]
æ‰€ä»¥, æœ¬ç¯‡æ–‡ç« å°±æ¥æ•™å¤§å®¶åœ¨ä½¿ç”¨Flameæ¡†æ¶æ—¶, åœ¨å±å¹•ä¸Šå±•ç¤ºæ‘‡æ†, å¹¶æ§åˆ¶æŸäº›component!
æˆ‘ä»¬è¦åšçš„é¡¹ç›®åç§°ä¸ºLame Tank 360(Lameå¦å…‹360).
æœ¬é¡¹ç›®å°†å®Œæ•´æ”¯æŒ360Â°çš„æ—‹è½¬. å¹¶å°†å¦å…‹çš„&#34;ç‚®å¡”&#34;ä¸&#34;å¦å…‹èº«ä½“&#34;åˆ†å¼€. å› æ­¤, æˆ‘ä»¬å¿…é¡»å»ºç«‹ä¸¤ä¸ªæ‘‡æ†.
éœ€å…·å¤‡çš„æ¡ä»¶ è‹¥æƒ³é¡ºåˆ©å­¦ä¹ æœ¬ç¯‡æ•™ç¨‹, ä½ éœ€è¦å…·å¤‡:
æŒæ¡Flutterçš„åŸºç¡€ç”¨æ³•. å·²å®Œæ•´å­¦ä¹ Flameç³»åˆ—æ•™ç¨‹. [epcl_box type=â€œnoticeâ€]å¦‚æœä½ æ²¡æœ‰æ»¡è¶³ä¸Šè¿°æ¡ä»¶, ä½ å°†æ— æ³•é¡ºåˆ©å®Œæˆè¿™ç¯‡æ•™ç¨‹. å»ºè®®å…ˆé˜…è¯»ã€ŠFlutteræ¸¸æˆå¼€å‘-Flameæ•™ç¨‹ã€‹ ![/epcl_box]
å¼€å§‹ åˆ›å»ºFlutteré¡¹ç›® flutter create lame_tank_360 [epcl_box type=â€œinformationâ€]é˜¿èˆªçš„æ•™ç¨‹, åªè¦æ¶‰åŠåˆ°åˆ›å»ºé¡¹ç›®ã€å‘½åçš„ç›¸å…³æ“ä½œ, èº«ä¸ºè¯»è€…çš„ä½ å¯ä»¥ç”¨é˜¿èˆªæ•™ç¨‹æä¾›çš„, ä½ ä¹Ÿå¯ä»¥è‡ªå·±èµ·å! åˆ«å¿˜äº†æ›¿æ¢ä»£ç ä¸­ç‰µæ‰¯çš„åç§°ä¸ºä½ è‡ªå·±çš„![/epcl_box]
åˆå§‹åŒ–é¡¹ç›®è®¾ç½® ç°åœ¨é¡¹ç›®æ˜¯å¯ä»¥è¿è¡Œçš„, ä½†æ˜¯åªæ˜¯Flutteré»˜è®¤ç”Ÿæˆçš„">




<link rel="stylesheet" href="/css/output.css" />




    


<style>
  pre {
    padding: 1em;
    overflow: auto;
  }
</style>









    

    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  </head>

  <body x-data="{
    flip: false,
  }">
    
    <div id="dream-global-bg"></div>

    
<nav class="mt-4 lg:mt-8 py-4">

  
  <div class="container flex justify-between px-4">
  
    <section class="flex items-center gap-4">
      <div class="avatar cursor-pointer hover:online" @click="flip = !flip" title="Flip it!">
        <div class="h-10 rounded-full">
          <img src="/" alt="" />
        </div>
      </div>

      
    </section>

    <div class="dropdown dropdown-end sm:hidden">
      <div tabindex="0" role="button" class="btn btn-ghost btn-square" aria-label="Select an option">
        <ion-icon name="menu" class="text-2xl"></ion-icon>
      </div>
      <ul tabindex="0" class="dropdown-content menu w-36 bg-base-100 rounded-box z-[1] shadow-md">
        

















<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/posts" title="Archives">
    <ion-icon name="archive"></ion-icon>
    Archives
  </a>
</li>




<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/categories" title="All Categories">
    <ion-icon name="grid"></ion-icon>
    All Categories
  </a>
</li>




<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/tags" title="All Tags">
    <ion-icon name="pricetags"></ion-icon>
    All Tags
  </a>
</li>






      </ul>
    </div>
    <section class="hidden sm:flex sm:items-center sm:gap-2 md:gap-4">
      
      

      

      
      





      
      





      
      





      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/posts" title="Archives">
  <ion-icon class="group-hover:text-primary-content" name="archive"></ion-icon>
</a>


      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/categories" title="All Categories">
  <ion-icon class="group-hover:text-primary-content" name="grid"></ion-icon>
</a>


      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/tags" title="All Tags">
  <ion-icon class="group-hover:text-primary-content" name="pricetags"></ion-icon>
</a>


      

      

      
    </section>
  </div>
</nav>


    <div class="flip-container" :class="{ 'flip-it': flip }">
      <div class="flipper">
        <div class="front">
          <div class="container">
            
<div class="lg:grid lg:grid-cols-4 gap-4 mt-4 px-4">
  <div class="hidden lg:block">
    
  </div>

  <div class="lg:col-span-2">
    <article class="mx-auto prose prose-quoteless dark:prose-invert" id="dream-single-post-main" itemscope itemtype="http://schema.org/Article">
      
  <meta itemprop="name" content="Flame å±å¹•æ‰‹æŸ„/æ‘‡æ†">
  <meta itemprop="description" content="å¯ä»¥çœ‹åˆ°, ç›®å‰æœ€ä¸»æµçš„æ‰‹æœºæ¸¸æˆéƒ½ä½¿ç”¨å±ä¸Šæ‰‹æŸ„/æ‘‡æ†è¿›è¡Œæ§åˆ¶, æ¯”å¦‚:
[caption id=â€œattachment_1286â€ align=â€œaligncenterâ€ width=â€œ700â€] League of Legends Mobile (è‹±é›„è”ç›Ÿæ‰‹æ¸¸)[/caption]
[caption id=â€œattachment_1284â€ align=â€œaligncenterâ€ width=â€œ700â€] PUBG Mobile (å’Œå¹³ç²¾è‹±)[/caption]
[caption id=â€œattachment_1288â€ align=â€œaligncenterâ€ width=â€œ700â€] Minecraft PE(æˆ‘çš„ä¸–ç•Œæ‰‹æœºç‰ˆ)[/caption]
ä»¥ä¸Šæ¸¸æˆéƒ½åœ¨å½“å‰æ‰‹æ¸¸æ¦œ(2020.04)æ’åå‰äº”.
[epcl_box type=â€œinformationâ€]çœ‹å¾—å‡ºæ¥, ç›®å‰çš„æ ¸å¿ƒç©æ³•ã€æ“ä½œäº¤äº’éƒ½ç¦»ä¸å¼€æ‰‹æŸ„/æ‘‡æ†![/epcl_box]
æ‰€ä»¥, æœ¬ç¯‡æ–‡ç« å°±æ¥æ•™å¤§å®¶åœ¨ä½¿ç”¨Flameæ¡†æ¶æ—¶, åœ¨å±å¹•ä¸Šå±•ç¤ºæ‘‡æ†, å¹¶æ§åˆ¶æŸäº›component!
æˆ‘ä»¬è¦åšçš„é¡¹ç›®åç§°ä¸ºLame Tank 360(Lameå¦å…‹360).
æœ¬é¡¹ç›®å°†å®Œæ•´æ”¯æŒ360Â°çš„æ—‹è½¬. å¹¶å°†å¦å…‹çš„&#34;ç‚®å¡”&#34;ä¸&#34;å¦å…‹èº«ä½“&#34;åˆ†å¼€. å› æ­¤, æˆ‘ä»¬å¿…é¡»å»ºç«‹ä¸¤ä¸ªæ‘‡æ†.
éœ€å…·å¤‡çš„æ¡ä»¶ è‹¥æƒ³é¡ºåˆ©å­¦ä¹ æœ¬ç¯‡æ•™ç¨‹, ä½ éœ€è¦å…·å¤‡:
æŒæ¡Flutterçš„åŸºç¡€ç”¨æ³•. å·²å®Œæ•´å­¦ä¹ Flameç³»åˆ—æ•™ç¨‹. [epcl_box type=â€œnoticeâ€]å¦‚æœä½ æ²¡æœ‰æ»¡è¶³ä¸Šè¿°æ¡ä»¶, ä½ å°†æ— æ³•é¡ºåˆ©å®Œæˆè¿™ç¯‡æ•™ç¨‹. å»ºè®®å…ˆé˜…è¯»ã€ŠFlutteræ¸¸æˆå¼€å‘-Flameæ•™ç¨‹ã€‹ ![/epcl_box]
å¼€å§‹ åˆ›å»ºFlutteré¡¹ç›® flutter create lame_tank_360 [epcl_box type=â€œinformationâ€]é˜¿èˆªçš„æ•™ç¨‹, åªè¦æ¶‰åŠåˆ°åˆ›å»ºé¡¹ç›®ã€å‘½åçš„ç›¸å…³æ“ä½œ, èº«ä¸ºè¯»è€…çš„ä½ å¯ä»¥ç”¨é˜¿èˆªæ•™ç¨‹æä¾›çš„, ä½ ä¹Ÿå¯ä»¥è‡ªå·±èµ·å! åˆ«å¿˜äº†æ›¿æ¢ä»£ç ä¸­ç‰µæ‰¯çš„åç§°ä¸ºä½ è‡ªå·±çš„![/epcl_box]
åˆå§‹åŒ–é¡¹ç›®è®¾ç½® ç°åœ¨é¡¹ç›®æ˜¯å¯ä»¥è¿è¡Œçš„, ä½†æ˜¯åªæ˜¯Flutteré»˜è®¤ç”Ÿæˆçš„">
  <meta itemprop="datePublished" content="2020-05-20T00:00:00+00:00">
  <meta itemprop="dateModified" content="2020-05-20T00:00:00+00:00">
  <meta itemprop="wordCount" content="1809">
  <meta itemprop="keywords" content="Flame,Flutter,æ¸¸æˆå¼€å‘">

      <header>
        <h1 itemprop="headline">Flame å±å¹•æ‰‹æŸ„/æ‘‡æ†</h1>
        <p class="text-sm">
          
            Wednesday, May 20, 2020
          

          | <span>9 minute read</span>

          
          | <span>Updated at
            
              Wednesday, May 20, 2020
            </span>
          
        </p>

        
        <div class="flex justify-between">
          

          <div class="flex items-center gap-2">
  
  

  
  
  
  
  
    <a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary"
      href="https://x.com/intent/post?text=Flame%20%e5%b1%8f%e5%b9%95%e6%89%8b%e6%9f%84/%e6%91%87%e6%9d%86&amp;url=http://localhost:1313/posts/post/2020/flame-%E5%B1%8F%E5%B9%95%E6%89%8B%E6%9F%84-%E6%91%87%E6%9D%86/" target="_blank" rel="noopener noreferrer"
      title="Share on X">
      <ion-icon class="group-hover:text-primary-content" name="logo-x"></ion-icon>
    </a>
  
    <a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary"
      href="https://facebook.com/sharer/sharer.php?u=http://localhost:1313/posts/post/2020/flame-%E5%B1%8F%E5%B9%95%E6%89%8B%E6%9F%84-%E6%91%87%E6%9D%86/" target="_blank" rel="noopener noreferrer"
      title="Share on Facebook">
      <ion-icon class="group-hover:text-primary-content" name="logo-facebook"></ion-icon>
    </a>
  
    <a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary"
      href="https://wa.me/?text=Flame%20%e5%b1%8f%e5%b9%95%e6%89%8b%e6%9f%84/%e6%91%87%e6%9d%86%20http://localhost:1313/posts/post/2020/flame-%E5%B1%8F%E5%B9%95%E6%89%8B%E6%9F%84-%E6%91%87%E6%9D%86/" target="_blank" rel="noopener noreferrer"
      title="Share on WhatsApp">
      <ion-icon class="group-hover:text-primary-content" name="logo-whatsapp"></ion-icon>
    </a>
  

  
  
</div>

        </div>
      </header>

      <section id="dream-single-post-content" itemprop="articleBody">
        

        <p>å¯ä»¥çœ‹åˆ°, ç›®å‰æœ€ä¸»æµçš„æ‰‹æœºæ¸¸æˆéƒ½ä½¿ç”¨å±ä¸Šæ‰‹æŸ„/æ‘‡æ†è¿›è¡Œæ§åˆ¶, æ¯”å¦‚:</p>
<p>[caption id=&ldquo;attachment_1286&rdquo; align=&ldquo;aligncenter&rdquo; width=&ldquo;700&rdquo;]<img src="images/Flutter-Flame-%E6%91%87%E6%9D%86-02-700x390.jpg" alt="Flutter Flame æ‘‡æ†-02"> League of Legends Mobile (è‹±é›„è”ç›Ÿæ‰‹æ¸¸)[/caption]</p>
<p>[caption id=&ldquo;attachment_1284&rdquo; align=&ldquo;aligncenter&rdquo; width=&ldquo;700&rdquo;]<img src="images/Flutter-Flame-%E6%91%87%E6%9D%86-01-700x341.jpg" alt="Flutter Flame æ‘‡æ†-01"> PUBG Mobile (å’Œå¹³ç²¾è‹±)[/caption]</p>
<p>[caption id=&ldquo;attachment_1288&rdquo; align=&ldquo;aligncenter&rdquo; width=&ldquo;700&rdquo;]<img src="images/Flutter-Flame-%E6%91%87%E6%9D%86-03-700x376.jpg" alt="Flutter Flame æ‘‡æ†-03"> Minecraft PE(æˆ‘çš„ä¸–ç•Œæ‰‹æœºç‰ˆ)[/caption]</p>
<p>ä»¥ä¸Šæ¸¸æˆéƒ½åœ¨å½“å‰æ‰‹æ¸¸æ¦œ(2020.04)æ’åå‰äº”.</p>
<p>[epcl_box type=&ldquo;information&rdquo;]çœ‹å¾—å‡ºæ¥, ç›®å‰çš„æ ¸å¿ƒç©æ³•ã€æ“ä½œäº¤äº’éƒ½ç¦»ä¸å¼€æ‰‹æŸ„/æ‘‡æ†![/epcl_box]</p>
<p>æ‰€ä»¥, æœ¬ç¯‡æ–‡ç« å°±æ¥æ•™å¤§å®¶åœ¨ä½¿ç”¨Flameæ¡†æ¶æ—¶, åœ¨å±å¹•ä¸Šå±•ç¤ºæ‘‡æ†, å¹¶æ§åˆ¶æŸäº›component!</p>
<p>æˆ‘ä»¬è¦åšçš„é¡¹ç›®åç§°ä¸º<strong>Lame Tank 360</strong>(Lameå¦å…‹360).</p>
<p>æœ¬é¡¹ç›®å°†å®Œæ•´æ”¯æŒ360Â°çš„æ—‹è½¬. å¹¶å°†å¦å…‹çš„&quot;ç‚®å¡”&quot;ä¸&quot;å¦å…‹èº«ä½“&quot;åˆ†å¼€. å› æ­¤, æˆ‘ä»¬å¿…é¡»å»ºç«‹ä¸¤ä¸ªæ‘‡æ†.</p>
<h2 id="éœ€å…·å¤‡çš„æ¡ä»¶">éœ€å…·å¤‡çš„æ¡ä»¶</h2>
<p>è‹¥æƒ³é¡ºåˆ©å­¦ä¹ æœ¬ç¯‡æ•™ç¨‹, ä½ éœ€è¦å…·å¤‡:</p>
<ol>
<li>æŒæ¡Flutterçš„åŸºç¡€ç”¨æ³•.</li>
<li>å·²å®Œæ•´å­¦ä¹ Flameç³»åˆ—æ•™ç¨‹.</li>
</ol>
<p>[epcl_box type=&ldquo;notice&rdquo;]å¦‚æœä½ æ²¡æœ‰æ»¡è¶³ä¸Šè¿°æ¡ä»¶, ä½ å°†æ— æ³•é¡ºåˆ©å®Œæˆè¿™ç¯‡æ•™ç¨‹. å»ºè®®å…ˆé˜…è¯»<a href="https://www.bugcatt.com/archives/279" target="_blank">ã€ŠFlutteræ¸¸æˆå¼€å‘-Flameæ•™ç¨‹ã€‹</a>
![/epcl_box]</p>
<h2 id="å¼€å§‹">å¼€å§‹</h2>
<h3 id="åˆ›å»ºflutteré¡¹ç›®">åˆ›å»ºFlutteré¡¹ç›®</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>flutter create lame_tank_360
</span></span></code></pre></div><p>[epcl_box type=&ldquo;information&rdquo;]é˜¿èˆªçš„æ•™ç¨‹, åªè¦æ¶‰åŠåˆ°åˆ›å»ºé¡¹ç›®ã€å‘½åçš„ç›¸å…³æ“ä½œ, èº«ä¸ºè¯»è€…çš„ä½ å¯ä»¥ç”¨é˜¿èˆªæ•™ç¨‹æä¾›çš„, ä½ ä¹Ÿå¯ä»¥è‡ªå·±èµ·å! åˆ«å¿˜äº†æ›¿æ¢ä»£ç ä¸­ç‰µæ‰¯çš„åç§°ä¸ºä½ è‡ªå·±çš„![/epcl_box]</p>
<h3 id="åˆå§‹åŒ–é¡¹ç›®è®¾ç½®">åˆå§‹åŒ–é¡¹ç›®è®¾ç½®</h3>
<p>ç°åœ¨é¡¹ç›®æ˜¯å¯ä»¥è¿è¡Œçš„, ä½†æ˜¯åªæ˜¯Flutteré»˜è®¤ç”Ÿæˆçš„</p>
<p>æ¸…ç©º<code>./lib/main.dart</code>, å¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;package:flutter/material.dart&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;package:flutter/services.dart&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Future main() <span style="color:#66d9ef">async</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  WidgetsFlutterBinding.ensureInitialized();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// è®¾ç½®å±å¹•æ–¹å‘(è®¾ç½®å±å¹•æ–¹å‘ä¸ºæ¨ªå‘)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">await</span> SystemChrome.setPreferredOrientations([
</span></span><span style="display:flex;"><span>    DeviceOrientation.landscapeLeft,
</span></span><span style="display:flex;"><span>    DeviceOrientation.landscapeRight,
</span></span><span style="display:flex;"><span>  ]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// ç¦æ­¢æ‰€æœ‰UIå±‚(è®¾ç½®å…¨å±)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">await</span> SystemChrome.setEnabledSystemUIOverlays([]);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>


  <blockquote>
    <p>ğŸ’¡ ä»£ç è§£æ: åˆ é™¤äº†åˆå§‹çš„å…¶ä»–å†…å®¹, å¯¼å…¥æ‰€éœ€çš„åº“, å°†<code>main()</code>è½¬ä¸º<code>async</code>, å°†APPé”å®šä¸ºæ¨ªå‘, æœ€å, éšè—æ‰€æœ‰UIå åŠ å±‚, APPå› æ­¤å˜ä¸ºå…¨å±æ˜¾ç¤º.</p>
  </blockquote>

<p>å› ä¸ºæœ¬æ•™ç¨‹ä¸ä¼šé€šè¿‡æµ‹è¯•é©±åŠ¨å¼€å‘, æ‰€ä»¥ä½ åŒæ ·è¦åˆ é™¤<code>./test</code>ç›®å½•.</p>
<p>è®©æˆ‘ä»¬ä¸ºæ¸¸æˆå‡†å¤‡æ‰€éœ€çš„Widgetæ ‘. Widgetæ ‘å°†ä¼šç”±ä¸€ä¸ª<code>Stack</code>ç»„æˆ, å…¶å­çº§æ˜¯æ¸¸æˆçš„å„å±‚.</p>
<p>è¿™äº›å±‚åˆ†åˆ«æ˜¯:</p>
<ol>
<li>æ¸¸æˆæœ¬èº«(ç»˜åˆ¶è‰åªã€å¦å…‹å’Œå­å¼¹çš„åŒºåŸŸ)</li>
<li>UIå±‚(ç»˜åˆ¶æ¸¸æˆæ‰‹æŸ„ä»¥åŠæŒ‰é’®)</li>
</ol>
<p>å½“ç„¶, æ¸¸æˆå±‚ä¼šåœ¨UIå±‚ä¸‹é¢.</p>
<p>ä¸ºæ­¤, åœ¨å°†APPè®¾ç½®ä¸ºå…¨å±çš„ä»£ç ä¸‹é¢æ·»åŠ ä»¥ä¸‹ä»£ç å—:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#75715e">// è¿è¡ŒAPP
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>runApp(
</span></span><span style="display:flex;"><span>  Directionality(
</span></span><span style="display:flex;"><span>    textDirection: TextDirection.ltr,
</span></span><span style="display:flex;"><span>    child: Stack(
</span></span><span style="display:flex;"><span>      children: [
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// ä¸ºæ¸¸æˆæä¾›å ä½ç¬¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Container(
</span></span><span style="display:flex;"><span>          color: Color(<span style="color:#ae81ff">0xff27ae60</span>),
</span></span><span style="display:flex;"><span>        ),
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// æ‘‡æ†å±‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Container(),
</span></span><span style="display:flex;"><span>      ],
</span></span><span style="display:flex;"><span>    ),
</span></span><span style="display:flex;"><span>  ),
</span></span><span style="display:flex;"><span>);
</span></span></code></pre></div>


  <blockquote>
    <p>ğŸ’¡ å¿«é€Ÿè§£æ: æŸäº›åŠŸèƒ½(ä¾‹å¦‚<code>Stack</code>)éœ€è¦ç¡®å®šæ–¹å‘, è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¿…é¡»åœ¨å…¶ä¸­ä»¥<strong>LTR</strong>(ä»å·¦è‡³å³)çš„æ–¹å‘å¯¹å…¶å®šä¹‰çš„åŸå› . <code>Stack</code>çš„å­çº§çš„æ¸²æŸ“é¡ºåºä¸åˆ—è¡¨ä¸­å®šä¹‰çš„é¡ºåºä¸€è‡´, å› æ­¤, æ¸¸æˆå°†å…ˆè¢«æ¸²æŸ“, ç„¶åæ¸²æŸ“<code>joypad</code>è¿›è¡Œè¦†ç›–, ä½¿å…¶æ¸²æŸ“åˆ°æ¸¸æˆçš„é¡¶éƒ¨.</p>
  </blockquote>

<h3 id="åˆ›å»ºjoypadæ‘‡æ†å°éƒ¨ä»¶">åˆ›å»ºjoypad(æ‘‡æ†)å°éƒ¨ä»¶</h3>
<p>ç”±äºæˆ‘ä»¬å°†ä½¿ç”¨ä¸¤ä¸ªæ‘‡æ†, ä¸€ä¸ªç”¨äºå¦å…‹ä¸»ä½“, å¦ä¸€ä¸ªç”¨äºç‚®å¡”, å› æ­¤æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªå¯é‡å¤ä½¿ç”¨çš„<code>widget</code>. widgeté€šå¸¸æ˜¯å…¶ä»–å°éƒ¨ä»¶çš„é›†åˆ, ä½†æœ‰æ—¶å®ƒå…·æœ‰ä¸€ä¸ªè‡ªå®šä¹‰çš„ç»˜åˆ¶å·¥å…·, å¯ä»¥è¿›è¡Œwidgetçš„å®æ—¶æ¸²æŸ“.</p>
<h4 id="åˆ›å»ºæ–°çš„widgetç±»">åˆ›å»ºæ–°çš„widgetç±»</h4>
<p>ä¸‹é¢å³å°†æä¾›<code>Joypad</code>widgetçš„ä»£ç . é€šå¸¸æˆ‘<strong>ä¸é¼“åŠ±ç›²ç›®çš„å¤åˆ¶ç²˜è´´ç½‘ä¸Šçš„ä»£ç </strong>, æœ€å¥½é˜…è¯»å¹¶ç†è§£å…¶å†…å®¹å¹¶æ‰‹åŠ¨æ‰“è¿›é¡¹ç›®ä¸­, å¹¶åœ¨éœ€è¦çš„æ—¶å€™è¿›è¡Œä¿®æ”¹.</p>
<p><strong>ä½†æ˜¯&hellip;</strong></p>
<p>ç”±äºFlutter Widgetçš„æ ¼å¼å°±å¾ˆå¤§, å› æ­¤å°†ä»¥ä¸‹ä»£ç æ”¾å…¥<code>./lib/widgets/joypad.dart</code>, æˆ‘ä¼šåœ¨ä»£ç ä¸‹é¢è¿›è¡Œè§£é‡Š:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;dart:math&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;package:flutter/material.dart&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Joypad</span> <span style="color:#66d9ef">extends</span> StatefulWidget {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">void</span> Function(Offset) onChange;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> Joypad({
</span></span><span style="display:flex;"><span>    Key key,
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#66d9ef">required</span> <span style="color:#66d9ef">this</span>.onChange,
</span></span><span style="display:flex;"><span>  }) <span style="color:#f92672">:</span> <span style="color:#66d9ef">super</span>(key: key);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  JoypadState createState() <span style="color:#f92672">=&gt;</span> JoypadState();
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">JoypadState</span> <span style="color:#66d9ef">extends</span> State<span style="color:#f92672">&lt;</span>Joypad<span style="color:#f92672">&gt;</span> {
</span></span><span style="display:flex;"><span>  Offset delta <span style="color:#f92672">=</span> Offset.zero;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">void</span> updateDelta(Offset newDelta) {
</span></span><span style="display:flex;"><span>    widget.onChange(newDelta);
</span></span><span style="display:flex;"><span>    setState(() {
</span></span><span style="display:flex;"><span>      delta <span style="color:#f92672">=</span> newDelta;
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">void</span> calculateDelta(Offset offset) {
</span></span><span style="display:flex;"><span>    Offset newDelta <span style="color:#f92672">=</span> offset <span style="color:#f92672">-</span> Offset(<span style="color:#ae81ff">60</span>, <span style="color:#ae81ff">60</span>);
</span></span><span style="display:flex;"><span>    updateDelta(
</span></span><span style="display:flex;"><span>      Offset.fromDirection(
</span></span><span style="display:flex;"><span>        newDelta.direction,
</span></span><span style="display:flex;"><span>        min(<span style="color:#ae81ff">30</span>, newDelta.distance),
</span></span><span style="display:flex;"><span>      ),
</span></span><span style="display:flex;"><span>    );
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  Widget build(BuildContext context) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> SizedBox(
</span></span><span style="display:flex;"><span>      height: <span style="color:#ae81ff">120</span>,
</span></span><span style="display:flex;"><span>      width: <span style="color:#ae81ff">120</span>,
</span></span><span style="display:flex;"><span>      child: Container(
</span></span><span style="display:flex;"><span>        decoration: BoxDecoration(
</span></span><span style="display:flex;"><span>          borderRadius: BorderRadius.circular(<span style="color:#ae81ff">60</span>),
</span></span><span style="display:flex;"><span>        ),
</span></span><span style="display:flex;"><span>        child: GestureDetector(
</span></span><span style="display:flex;"><span>          child: Container(
</span></span><span style="display:flex;"><span>            decoration: BoxDecoration(
</span></span><span style="display:flex;"><span>              color: Color(<span style="color:#ae81ff">0x88ffffff</span>),
</span></span><span style="display:flex;"><span>              borderRadius: BorderRadius.circular(<span style="color:#ae81ff">60</span>),
</span></span><span style="display:flex;"><span>            ),
</span></span><span style="display:flex;"><span>            child: Center(
</span></span><span style="display:flex;"><span>              child: Transform.translate(
</span></span><span style="display:flex;"><span>                offset: delta,
</span></span><span style="display:flex;"><span>                child: SizedBox(
</span></span><span style="display:flex;"><span>                  height: <span style="color:#ae81ff">60</span>,
</span></span><span style="display:flex;"><span>                  width: <span style="color:#ae81ff">60</span>,
</span></span><span style="display:flex;"><span>                  child: Container(
</span></span><span style="display:flex;"><span>                    decoration: BoxDecoration(
</span></span><span style="display:flex;"><span>                      color: Color(<span style="color:#ae81ff">0xccffffff</span>),
</span></span><span style="display:flex;"><span>                      borderRadius: BorderRadius.circular(<span style="color:#ae81ff">30</span>),
</span></span><span style="display:flex;"><span>                    ),
</span></span><span style="display:flex;"><span>                  ),
</span></span><span style="display:flex;"><span>                ),
</span></span><span style="display:flex;"><span>              ),
</span></span><span style="display:flex;"><span>            ),
</span></span><span style="display:flex;"><span>          ),
</span></span><span style="display:flex;"><span>          onPanDown: onDragDown,
</span></span><span style="display:flex;"><span>          onPanUpdate: onDragUpdate,
</span></span><span style="display:flex;"><span>          onPanEnd: onDragEnd,
</span></span><span style="display:flex;"><span>        ),
</span></span><span style="display:flex;"><span>      ),
</span></span><span style="display:flex;"><span>    );
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">void</span> onDragDown(DragDownDetails d) {
</span></span><span style="display:flex;"><span>    calculateDelta(d.localPosition);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">void</span> onDragUpdate(DragUpdateDetails d) {
</span></span><span style="display:flex;"><span>    calculateDelta(d.localPosition);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">void</span> onDragEnd(DragEndDetails d) {
</span></span><span style="display:flex;"><span>    updateDelta(Offset.zero);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>ğŸ’¡ ä»£ç è§£æ:</p>
<ul>
<li>Flutter widgetæœ‰ä¸¤ç§ç±»å‹, åˆ†åˆ«æ˜¯<code>StatelessWidgets</code>å’Œ<code>StatefulWidgets</code>.Statelessæ˜¯ç®€å•çš„widget, ä¸ç®¡ç†åŠ¨æ€æ•°æ®. å®ƒä»¬é€šå¸¸ä¸€ç”Ÿéƒ½ä¸ä¼šæ”¹å˜. å¦ä¸€è¾¹, Stateful widgetå¯ä»¥æ˜¯åŠ¨æ€çš„, å¹¶ä¸”å®ƒä»¬çš„å¤–è§‚ã€ä½ç½®å’Œå…¶ä»–å±æ€§å–å†³äºå¯èƒ½æ›´æ”¹çš„æ•°æ®.</li>
<li>æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨<code>StatefulWidget</code>ä½œä¸ºæ‘‡æ†. <code>StatefulWidget</code>ç”±widgetå’ŒState(çŠ¶æ€)ç»„æˆ.</li>
<li>åˆ›å»ºæ—¶, æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå‡½æ•°ä½œä¸º<code>onChange</code>çš„å‚æ•°. ä¼ é€’çš„å‡½æ•°æœ¬èº«å¿…é¡»æ¥æ”¶<code>Offset</code>, è¿™æ ·å¯ä»¥çŸ¥é“widgetçš„å½“å‰å¢é‡.</li>
<li><code>build</code>å‡½æ•°ä¸­åŒ…å«åŒ…å«æ‘‡æ†æœ¬èº«çš„å®Œæ•´å¸ƒå±€.</li>
<li>åœ¨<code>build</code>å‡½æ•°å†…éƒ¨, æœ‰ä¸€ä¸ª<code>GestureDetector</code>å¯ä»¥ä¾¦å¬ä¸‰ä¸ªäº‹ä»¶(å‘ä¸‹æ‹–åŠ¨, æ‹–åŠ¨æ›´æ–°, ç»“æŸæ‹–åŠ¨).</li>
<li>å‘ä¸‹æ‹–åŠ¨(ç©å®¶è§¦æ‘¸æ‘‡æ†çš„é‚£ä¸€åˆ»)å’Œæ‹–åŠ¨æ›´æ–°(æŒ‰ä¸‹æ‰‹æŒ‡çš„æ¯æ¬¡ç§»åŠ¨)æ—¶, å¢é‡å°†åœ¨<code>calculateDelta()</code>ä¸­é‡æ–°è®¡ç®—. ç„¶åå°†è®¡ç®—å‡ºçš„å¢åŠ ä¼ é€’ç»™<code>updateDelta()</code>.</li>
<li>åœ¨<code>updateDelta()</code>å†…éƒ¨, è°ƒç”¨<code>onChange</code>å†…éƒ¨çš„å‡½æ•°å°†æ–°çš„(æ›´æ–°çš„)deltaä¼ é€’ç»™å®ƒ. ç„¶å, å‡½æ•°è°ƒç”¨<code>setState</code>, å®ƒè§¦å‘Flutterå†æ¬¡è°ƒç”¨è¿™ä¸ªwidgetçš„<code>build</code>å‡½æ•°, æœ‰æ•ˆçš„æ›´æ–°äº†<code>joypad</code>çš„å¤–è§‚.</li>
</ul>
<p>[epcl_box type=&ldquo;information&rdquo;]å¦‚æœä½ å¯¹æ­¤widgetæœ‰ä»»ä½•ç–‘é—®, æ¬¢è¿åœ¨ä¸‹æ–¹è¯„è®ºåŒºè®¨è®º! æˆ–è€…åŠ å…¥<a href="https://jq.qq.com/?_wv=1027&amp;k=5ETLFm3" target="_blank">æˆ‘çš„Flameäº¤æµç¾¤(QQ)</a>
.[/epcl_box]</p>
<h4 id="åœ¨gameä¸­æ·»åŠ æ‘‡æ†">åœ¨gameä¸­æ·»åŠ æ‘‡æ†</h4>
<p>ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªæ‘‡æ†widget, è®©æˆ‘ä»¬æ¥ä¸ºgameæ„å»ºUIå±‚.</p>
<p>æˆ‘ä»¬çš„ç›®æ ‡:</p>
<p><img src="images/Flutter-Flame-%E6%91%87%E6%9D%86-04-700x330.png" alt="Flutter Flame æ‘‡æ†-04"></p>
<p>è¿”å›<code>./lib/main.dart</code>. ç¬¬ä¸€æ­¥å°±æ˜¯è¦å¯¼å…¥Joypadçš„widget:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;package:lame_tank_360/widgets/joypad.dart&#39;</span>;
</span></span></code></pre></div><p>ç„¶åæ‰¾åˆ°UIå±‚:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#75715e">// æ‘‡æ†å±‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Container(),
</span></span></code></pre></div><p>æ›¿æ¢ä¸º:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#75715e">// æ‘‡æ†å±‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Column(
</span></span><span style="display:flex;"><span>  children: [
</span></span><span style="display:flex;"><span>    Spacer(),
</span></span><span style="display:flex;"><span>    Row(
</span></span><span style="display:flex;"><span>      children: [
</span></span><span style="display:flex;"><span>        SizedBox(width: <span style="color:#ae81ff">48</span>),
</span></span><span style="display:flex;"><span>        Joypad(
</span></span><span style="display:flex;"><span>          onChange: (Offset delta) <span style="color:#f92672">=&gt;</span> print(delta),
</span></span><span style="display:flex;"><span>        ),
</span></span><span style="display:flex;"><span>        Spacer(),
</span></span><span style="display:flex;"><span>        Joypad(
</span></span><span style="display:flex;"><span>          onChange: (Offset delta) <span style="color:#f92672">=&gt;</span> print(delta),
</span></span><span style="display:flex;"><span>        ),
</span></span><span style="display:flex;"><span>        SizedBox(width: <span style="color:#ae81ff">48</span>),
</span></span><span style="display:flex;"><span>      ],
</span></span><span style="display:flex;"><span>    ),
</span></span><span style="display:flex;"><span>    SizedBox(height: <span style="color:#ae81ff">24</span>),
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>),
</span></span></code></pre></div><p>[epcl_box type=&ldquo;notice&rdquo;]ä½ ç°åœ¨åº”è¯¥ç†Ÿæ‚‰<code>Column</code>å’Œ<code>Row</code>çš„widgetäº†. å¦‚æœæ²¡æœ‰, å»ºè®®å…ˆå»çœ‹çœ‹<a href="https://flutterchina.club/widgets/layout/" target="_blank">ã€ŠFlutterå®˜æ–¹æ–‡æ¡£ - å¸ƒå±€ã€‹</a>
[/epcl_box]</p>
<p>[epcl_box type=&ldquo;information&rdquo;]ç›®å‰ä¸ºæ­¢, æˆ‘ä»¬åªæ˜¯åœ¨<code>delta</code>ä¸­æ‰“å°æ¯æ¬¡åœ¨æ‘‡æ†ä¸­å˜æ›´çš„å€¼. æˆ‘ä»¬ç¨åä¼šå°†å…¶é“¾æ¥è‡³game[/epcl_box]</p>
<h3 id="360-å¦å…‹">360Â° å¦å…‹</h3>
<p>æ˜¯æ—¶å€™å°†APPè½¬åŒ–ä¸ºæ¸¸æˆäº†! å’Œå¾€å¸¸ä¸€æ ·, æˆ‘ä»¬å°†ä¼šä½¿ç”¨Flameæ¸¸æˆå¼€å‘å¼•æ“.</p>
<h4 id="å®‰è£…flame">å®‰è£…Flame</h4>
<p>ä½ å¯ä»¥åœ¨pubä¸Šæ‰¾åˆ°Flame, å¹¶ä¸”å¯ä»¥ç›´æ¥åœ¨<code>./pubspec.yaml</code>çš„<code>dependencies:</code>é€‰é¡¹ä¸‹æ–¹å¼•å…¥:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>  <span style="color:#f92672">flame</span>: <span style="color:#ae81ff">^0.16.0</span>
</span></span></code></pre></div><p>[epcl_box type=&ldquo;notice&rdquo;]ä¸€å®šè¦æ³¨æ„ç¼©è¿›(<strong>åœ¨</strong><code>flame</code><strong>å‰çš„ä¸¤ä¸ªç©ºæ ¼</strong>), å¹¶ä¸”ç¡®å®šæŠŠå®ƒæ”¾åœ¨æ­£ç¡®çš„ä½ç½®(åœ¨<code>dependencies</code>å†…)[/epcl_box]</p>
<p>è¿è¡ŒIDEè‡ªå¸¦çš„`Packages get`æˆ–åœ¨ç»ˆç«¯ä¸­è¾“å…¥:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>flutter pub get
</span></span></code></pre></div><p>ä¸‹ä¸€æ­¥, æˆ‘ä»¬æ¥åˆ›å»ºåŒ…å«game loopçš„gameç±». åˆ›å»ºæ–‡ä»¶<code>./lib/lame-tank-360.dart</code>å¹¶å½•å…¥ä»¥ä¸‹ä»£ç :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;dart:ui&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;package:flame/game.dart&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">LameTank360</span> <span style="color:#66d9ef">extends</span> Game {
</span></span><span style="display:flex;"><span>  Size screenSize;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">@</span>override
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">void</span> render(Canvas c) {}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">@</span>override
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">void</span> update(<span style="color:#66d9ef">double</span> t) {}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">@</span>override
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">void</span> resize(Size size) {}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>


  <blockquote>
    <p>ğŸ’¡ ä»£ç è§£æ: è¿™ä»…æ˜¯ä¸€ä¸ªç›¸å½“ç®€å•çš„gameç±»æ–‡ä»¶, ç»§æ‰¿è‡ªFlameçš„<code>Game</code>ç±». Flameå·²ç»æ›¿æˆ‘ä»¬å¤„ç†äº†æ‰€æœ‰çš„è¿è¡Œæ¸¸æˆæ‰€éœ€çš„æ ¸å¿ƒä»£ç ğŸ¤­ğŸ¤­ğŸ¤­</p>
  </blockquote>

<p>æˆ‘ä»¬éœ€è¦å†™ä»£ç æ¥å¡«å……è¿™äº›åŠŸèƒ½(<code>resize</code>, <code>update</code>ä»¥åŠ<code>render</code>)ç”¨ä»¥æ‰©å±•gameç±». ä»<code>resize</code>å¼€å§‹:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">@</span>override
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> resize(Size size) {
</span></span><span style="display:flex;"><span>  screenSize <span style="color:#f92672">=</span> size;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>ä¸Šé¢çš„ä»£ç è™½ç„¶éå¸¸ç®€å•, ä½†æˆ‘ä¹Ÿæƒ³è·Ÿå¤§å®¶è§£é‡Šä¸‹ä¸ºä½•è¦è¿™ä¹ˆåš. ç°åœ¨æŸäº›æ‰‹æœºæ”¯æŒåŠ¨æ€åˆ†è¾¨ç‡. ç”¨æˆ·å¯ä»¥å˜æ›´(é™ä½)åˆ†è¾¨ç‡ä»¥èŠ‚çº¦ç”µé‡, ä¹Ÿå¯ä»¥æé«˜åˆ†è¾¨ç‡å¢åŠ æ¸…æ™°åº¦(çœ‹é«˜æ¸…è§†é¢‘å’Œç©é«˜æ¸…æ¸¸æˆ).</p>
<p>æ‰€ä»¥å½“ç©å®¶åœ¨ç©æ¸¸æˆæ—¶, åˆ†è¾¨ç‡å¯èƒ½ä¼šæ”¹å˜.</p>
<p>ç”±äºFlutterä½¿ç”¨é€»è¾‘åƒç´ , å› æ­¤åº”ç”¨çš„åˆ†è¾¨ç‡åœ¨è¿™ç§æƒ…å†µä¸‹ä¼šå‘ç”Ÿå˜åŒ–. é€»è¾‘åƒç´ ç”±Flutterè®¡ç®—å¾—å‡º, å› æ­¤æ— è®ºç‰©ç†å°ºå¯¸å’Œåˆ†è¾¨ç‡å¦‚ä½•å˜åŒ–, æ‰€ä»¥è®¾å¤‡ä¸­çš„200ä¸ªé€»è¾‘åƒç´ çš„å¤§å°å§‹ç»ˆç›¸åŒ.</p>
<p>å‘ä¾§é¢æ—‹è½¬æ‰‹æœºæ—¶, ä¹Ÿå¯èƒ½è§¦å‘<code>resize</code>å‡½æ•°, å¹¶ä¸”ä½ çš„æ¸¸æˆåŒæ—¶å…è®¸çºµå‘å’Œæ¨ªå‘(Lame Tank 360ä¸å…è®¸).</p>
<p>åœ¨ç»§ç»­å¹¶å®é™…æ¸²æŸ“æ¸¸æˆç”»å¸ƒä¸Šçš„å†…å®¹ä¹‹å‰, è®©æˆ‘ä»¬ç¡®ä¿<code>update</code>å’Œ<code>render</code>åªæœ‰åœ¨æ¸¸æˆè‡³å°‘ä»Flutteræ”¶åˆ°ä¸€æ¬¡å°ºå¯¸åæ‰ä¼šè¿è¡Œ.</p>
<p>å°†ä»¥ä¸‹ä»£ç å—**åŒæ—¶æ”¾å…¥<code>update</code>å’Œ<code>render</code>**ä¸­:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (screenSize <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// å¦‚æœscreenSizeä¸ºnull, ç›´æ¥ç»“æŸæ‰§è¡Œå³å¯.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">return</span>; 
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>å½“å‰çš„<code>lame-tank-360.dart</code>æ–‡ä»¶çš„å…¨éƒ¨ä»£ç :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;dart:ui&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;package:flame/game.dart&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">LameTank360</span> <span style="color:#66d9ef">extends</span> Game {
</span></span><span style="display:flex;"><span>  Size screenSize;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">@</span>override
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">void</span> render(Canvas c) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (screenSize <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// å¦‚æœscreenSizeä¸ºnull, ç›´æ¥ç»“æŸæ‰§è¡Œå³å¯.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">@</span>override
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">void</span> update(<span style="color:#66d9ef">double</span> t) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (screenSize <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// å¦‚æœscreenSizeä¸ºnull, ç›´æ¥ç»“æŸæ‰§è¡Œå³å¯.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">@</span>override
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">void</span> resize(Size size) {
</span></span><span style="display:flex;"><span>    screenSize <span style="color:#f92672">=</span> size;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="æ·»åŠ gameç±»è‡³flutterçš„widgetæ ‘">æ·»åŠ gameç±»è‡³Flutterçš„widgetæ ‘</h4>
<p>ä¸ºäº†ç¡®ä¿åœ¨æ¸²æŸ“APPæ—¶FlutteråŒ…å«æˆ‘ä»¬çš„gameç±», æˆ‘ä»¬åˆ›å»ºå®ä¾‹å¹¶æ”¾å…¥widgetæ ‘ä¸­.</p>
<p>æ‰“å¼€<code>./lib/main.dart</code>, å¯¼å…¥:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;package:lame_tank_360/lame-tank-360.dart&#39;</span>;
</span></span></code></pre></div><p>ç´§æ¥ç€åˆ›å»ºä¸€ä¸ªgameç±»å®ä¾‹. åªéœ€æ”¾åœ¨è°ƒç”¨<code>runApp</code>ä¸Šæ–¹.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span>  <span style="color:#75715e">// å…ˆåˆå§‹åŒ–game
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">final</span> LameTank360 game <span style="color:#f92672">=</span> LameTank360();
</span></span></code></pre></div><p>ä¸‹ä¸€æ­¥åªéœ€è¦å°†<code>game</code>çš„.<code>widget</code>å‚æ•°æ”¾å…¥widgetæ ‘å³å¯. æˆ‘ä»¬å¯ä»¥é€šè¿‡æ›¿æ¢ä»¥ä¸‹ä»£ç :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#75715e">// ä¸ºæ¸¸æˆæä¾›å ä½ç¬¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Container(
</span></span><span style="display:flex;"><span>  color: Color(<span style="color:#ae81ff">0xff27ae60</span>),
</span></span><span style="display:flex;"><span>),
</span></span></code></pre></div><p>ä¸º:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#75715e">// ä¸ºæ¸¸æˆæä¾›å ä½ç¬¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>game.widget,
</span></span></code></pre></div><p>ç°åœ¨, æˆ‘ä»¬å‡†å¤‡ç»§ç»­å¼€å‘gameç±».</p>
<h4 id="è‰åª">è‰åª</h4>
<p>å¦‚æœä½ ç°åœ¨è¿è¡Œæ¸¸æˆ, ä½ åº”è¯¥ä¼šçœ‹åˆ°:</p>
<p><img src="images/Flutter-Flame-%E6%91%87%E6%9D%86-05-700x337.png" alt="Flutter Flame æ‘‡æ†-05"></p>
<p>æ¸¸æˆæ˜¯ç©ºçš„, æ‰€ä»¥æ¸²æŸ“å‡ºæ¥çš„æ˜¯é»‘è‰²çš„. è®©æˆ‘ä»¬é€šè¿‡æ·»åŠ &quot;è‰åª&quot;æ¥è§£å†³æ­¤é—®é¢˜. ä¸ºæ­¤, æˆ‘ä»¬å°†ç»˜åˆ¶ä¸€ä¸ªä¸å±å¹•ä¸€èˆ¬å¤§çš„ç»¿è‰²çŸ©å½¢.</p>
<p>è¿”å›<code>./lib/lame-tank-360.dart</code>, åœ¨<code>render</code>å‡½æ•°å†…éƒ¨, åœ¨åˆ¤æ–­<code>screenSize</code>æ˜¯å¦ä¸º<code>null</code>ä»¥å, æ”¾å…¥ä»¥ä¸‹ä»£ç å—:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#75715e">// ç»˜åˆ¶è‰åª
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>c.drawRect(
</span></span><span style="display:flex;"><span>  Rect.fromLTWH(
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>    screenSize.width,
</span></span><span style="display:flex;"><span>    screenSize.height,
</span></span><span style="display:flex;"><span>  ),
</span></span><span style="display:flex;"><span>  Paint()..color <span style="color:#f92672">=</span> Color(<span style="color:#ae81ff">0xff27ae60</span>),
</span></span><span style="display:flex;"><span>);
</span></span></code></pre></div>


  <blockquote>
    <p>ğŸ’¡ ä»£ç è§£æ: è¿™å°†ç»˜åˆ¶ä¸€ä¸ªç»¿è‰²(<code>#27ae60</code>)çŸ©å½¢, è¯¥çŸ©å½¢å§‹äºå±å¹•å·¦ä¸Šè§’(<code>0,0</code>), å¹¶ä¸”ä¸å±å¹•ç­‰é«˜ã€ç­‰å®½.</p>
  </blockquote>

<p>ç°åœ¨è¿è¡Œæ¸¸æˆ, ä½ ä¼šå‘ç°ç»¿è‰²è‰åª:</p>
<p><img src="images/Flutter-Flame-%E6%91%87%E6%9D%86-06-700x337.png" alt="Flutter Flame æ‘‡æ†-06"></p>
<h4 id="å¦å…‹">å¦å…‹</h4>
<p>è®©æˆ‘ä»¬ç»§ç»­ç»˜åˆ¶å¦å…‹. æˆ‘ä»¬å°†å…¶åˆ†ç¦»ä¸ºå•ç‹¬çš„ç±».</p>
<p>åˆ›å»ºæ–‡ä»¶<code>./lib/components/tank.dart</code>, å¹¶å½•å…¥ä»¥ä¸‹ä»£ç :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;dart:ui&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;package:lame_tank_360/lame-tank-360.dart&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Tank</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">final</span> LameTank360 game;
</span></span><span style="display:flex;"><span>  Offset position <span style="color:#f92672">=</span> Offset.zero;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">double</span> bodyAngle <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">double</span> turretAngle <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  Tank(<span style="color:#66d9ef">this</span>.game, {<span style="color:#66d9ef">this</span>.position});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">void</span> render(Canvas c) {}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">void</span> update(<span style="color:#66d9ef">double</span> t) {}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>


  <blockquote>
    <p>ğŸ’¡ ä»£ç è§£æ: ä»ç„¶æ˜¯ä¸€ä¸ªåŸºæœ¬çš„æ¸¸æˆcomponentç±», å…¶ä¸­åŒ…å«äº†ç©ºçš„å‡½æ•°, å½“ç„¶æˆ‘ä»¬ä¼šå°½å¿«å¡«å……è¿™äº›å‡½æ•°. å˜é‡<code>position</code>å°†æ˜¯å¦å…‹ä¸»ä½“å’Œç‚®å¡”çš„ä¸­å¿ƒ. <code>bodyAngle</code>å’Œ<code>turretAngle</code>åˆ†åˆ«æ˜¯å¦å…‹ä¸»ä½“å’Œç‚®å¡”çš„å½“å‰æ–¹å‘.</p>
  </blockquote>

<p>ä¸‹ä¸€æ­¥æ¥ç»˜åˆ¶å¦å…‹. åœ¨<code>render</code>å‡½æ•°å†…éƒ¨æ·»åŠ ä»£ç :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#75715e">// å‡†å¤‡Paintå¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Paint lightPaint <span style="color:#f92672">=</span> Paint()..color <span style="color:#f92672">=</span> Color(<span style="color:#ae81ff">0xffdddddd</span>);
</span></span><span style="display:flex;"><span>Paint darkPaint <span style="color:#f92672">=</span> Paint()..color <span style="color:#f92672">=</span> Color(<span style="color:#ae81ff">0xff777777</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// å°†canvasçš„åŸç‚¹è®¾ç½®åœ¨å¦å…‹çš„åæ ‡ä¸Š
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>c.save();
</span></span><span style="display:flex;"><span>c.translate(position.dx, position.dy);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ç»˜åˆ¶å¦å…‹ä¸»ä½“
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>c.drawRect(
</span></span><span style="display:flex;"><span>  Rect.fromLTWH(<span style="color:#f92672">-</span><span style="color:#ae81ff">20</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">40</span>, <span style="color:#ae81ff">30</span>),
</span></span><span style="display:flex;"><span>  lightPaint,
</span></span><span style="display:flex;"><span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ç»˜åˆ¶è½®å­
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>c.drawRect(
</span></span><span style="display:flex;"><span>  Rect.fromLTWH(<span style="color:#f92672">-</span><span style="color:#ae81ff">24</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">23</span>, <span style="color:#ae81ff">48</span>, <span style="color:#ae81ff">8</span>),
</span></span><span style="display:flex;"><span>  darkPaint,
</span></span><span style="display:flex;"><span>);
</span></span><span style="display:flex;"><span>c.drawRect(
</span></span><span style="display:flex;"><span>  Rect.fromLTWH(<span style="color:#f92672">-</span><span style="color:#ae81ff">24</span>, <span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">48</span>, <span style="color:#ae81ff">8</span>),
</span></span><span style="display:flex;"><span>  darkPaint,
</span></span><span style="display:flex;"><span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ç»˜åˆ¶ç‚®å¡”
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>c.drawRect(
</span></span><span style="display:flex;"><span>  Rect.fromLTWH(<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">25</span>, <span style="color:#ae81ff">24</span>),
</span></span><span style="display:flex;"><span>  darkPaint,
</span></span><span style="display:flex;"><span>);
</span></span><span style="display:flex;"><span>c.drawRect(
</span></span><span style="display:flex;"><span>  Rect.fromLTWH(<span style="color:#ae81ff">0</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">36</span>, <span style="color:#ae81ff">6</span>),
</span></span><span style="display:flex;"><span>  darkPaint,
</span></span><span style="display:flex;"><span>);
</span></span><span style="display:flex;"><span>c.drawRect(
</span></span><span style="display:flex;"><span>  Rect.fromLTWH(<span style="color:#ae81ff">36</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">10</span>),
</span></span><span style="display:flex;"><span>  darkPaint,
</span></span><span style="display:flex;"><span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>c.restore();
</span></span></code></pre></div>


  <blockquote>
    <p>ğŸ’¡ ä»£ç è§£æ: é¦–å…ˆå‡†å¤‡ä¸¤ç§é¢œè‰²çš„<code>Paint</code>å¯¹è±¡, å¹¶åœ¨ä¸‹é¢ç»˜åˆ¶è‹¥å¹²çŸ©å½¢æ¥ç»„æˆä¸€ä¸ª&quot;å¦å…‹&quot;.</p>
  </blockquote>

<p>æœ€ç»ˆ, åˆ›å»ºtankå®ä¾‹å¹¶æ·»åŠ è¿›å…¥<code>game</code>ç±»ä¸­. è¿”å›<code>./lib/lame-tank-360.dart</code>, å¯¼å…¥tank:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;package:lame_tank_360/components/tank.dart&#39;</span>;
</span></span></code></pre></div><p>æ·»åŠ tankå®ä¾‹:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span>Tank tank;
</span></span></code></pre></div><p>ç„¶ååœ¨<code>resize</code>ä¸­è¿›è¡Œåˆ¤æ–­, è‹¥æœªè¿›è¡Œè¿‡åˆå§‹åŒ–, åˆ™åˆå§‹åŒ–ä¸€ä¸ªå®ä¾‹:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (tank <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>  tank <span style="color:#f92672">=</span> Tank(
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>,
</span></span><span style="display:flex;"><span>    position: Offset(
</span></span><span style="display:flex;"><span>      screenSize.width <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>,
</span></span><span style="display:flex;"><span>      screenSize.height <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>,
</span></span><span style="display:flex;"><span>    ),
</span></span><span style="display:flex;"><span>  );
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>


  <blockquote>
    <p>ğŸ’¡ ä»£ç è§£æ: åˆ¤æ–­<code>tank</code>æ˜¯å¦ä¸º<code>null</code>å¯ç¡®ä¿æ­¤ä»£ç å—ä»…æ‰§è¡Œä¸€æ¬¡. åˆ›å»º<code>Tank</code>ç±»çš„æ–°å®ä¾‹èµ‹å€¼ç»™<code>tank</code>å˜é‡. è‹¥æ‰‹æœº(æˆ–APP)çš„åˆ†è¾¨ç‡å†æ¬¡å˜æ›´, åˆ™ä¼šå†æ¬¡è°ƒç”¨<code>resize</code>å‡½æ•°, å› ä¸ºç»è¿‡åˆ¤æ–­, æ‰€ä»¥ä¸ä¼šåˆ›å»ºæ–°çš„tank.</p>
  </blockquote>

<p>æœ€ç»ˆ, é€šè¿‡ä»gameç±»è‡ªå·±çš„<code>render()</code>ä¸­è°ƒç”¨tankçš„<code>render()</code>æ¥ç¡®ä¿tankå·²è¢«æ¸²æŸ“.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#75715e">// ç»˜åˆ¶å¦å…‹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>tank.render(c);
</span></span></code></pre></div>


  <blockquote>
    <p>ğŸ’¡ ä»£ç è§£æ: æ¸²æŸ“å°†ä¼šæŒ‰ç…§ä»£ç é¡ºåºæ‰§è¡Œ. å› æ­¤, è¯·ç¡®ä¿åœ¨è°ƒç”¨è‰åªçš„<code>render</code>ä¸‹é¢æ·»åŠ ä¸Šé¢çš„ä»£ç å—. å¦‚æœé¡ºåºå‡ºé”™, è‰åªå°†è¦†ç›–å¦å…‹, ä½¿æˆ‘ä»¬çœ‹ä¸åˆ°!</p>
  </blockquote>

<p>[epcl_box type=&ldquo;success&rdquo;]ç°åœ¨è¿è¡Œä»£ç , å±å¹•åº”è¯¥æ˜¯è¿™æ ·çš„:[/epcl_box]</p>
<p><img src="images/Flutter-Flame-%E6%91%87%E6%9D%86-07-700x337.png" alt="Flutter Flame æ‘‡æ†-07"></p>
<h3 id="ç»‘å®šæ—‹è½¬">ç»‘å®šæ—‹è½¬</h3>
<p>ç°åœ¨åˆ°äº†æ¯”è¾ƒæœ‰è¶£çš„ç¯èŠ‚, è®©æˆ‘ä»¬å°†å·¦è¾¹çš„æ‘‡æ†ä¸å¦å…‹è¿›è¡Œç»‘å®š. æ¢å¥è¯è¯´, æˆ‘ä»¬ä½¿å¦å…‹å¯¹å·¦æ‘‡æ†äº§ç”Ÿå›åº”. æ‰“å¼€<code>./lib/components/tank.dart</code>.</p>
<p>æˆ‘ä»¬éœ€è¦è®¿é—®<code>pi</code>(æ•°å­¦ä¸­çš„<code>Ï€</code>)å¸¸é‡å’Œä¸€äº›æ•°å­¦è®¡ç®—æ“ä½œ, æ‰€ä»¥æˆ‘ä»¬å…ˆå¯¼å…¥:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;dart:math&#39;</span>;
</span></span></code></pre></div><p>ç„¶ååœ¨ç»˜åˆ¶tankä¹‹å‰, æˆ‘ä»¬éœ€è¦æ ¹æ®å¦å…‹ä¸»ä½“çš„é¢„ä¼°è§’åº¦æ¥æ—‹è½¬canvas, é€šè¿‡ä»¥ä¸‹ä»£ç å®Œæˆ:</p>
<p>[epcl_box type=&ldquo;notice&rdquo;]è®°ä½è¦åœ¨å¦å…‹ä¸»ä½“æ¸²æŸ“å‰æ—‹è½¬canvas ![/epcl_box]</p>
<p>æˆ‘ä»¬ä¸ä»…è¦ç«‹å³æ ¹æ®æ‘‡æ†çš„è§’åº¦æ›´æ”¹<code>bodyAngle</code>, è¿˜è¦åšåˆ°ä½¿å¦å…‹ä»¥å›ºå®šçš„é€Ÿç‡å‘æ‘‡æ†çš„è§’åº¦è½¬åŠ¨.</p>
<p>ä¸ºæ­¤, æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå˜é‡æ¥ä¿å­˜ç›®æ ‡çš„è§’åº¦å€¼, å¦å…‹å°†ä¼šå°è¯•è½¬å‘è¯¥è§’åº¦.</p>
<p>æˆ‘ä»¬å°†æ­¤å˜é‡å‘½åä¸º<code>targetBodyAngle</code>, æŠŠå®ƒæ”¾åœ¨å…¶ä»–å®ä¾‹å˜é‡æ—è¾¹:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#66d9ef">double</span> targetBodyAngle;
</span></span></code></pre></div><p>[epcl_box type=&ldquo;notice&rdquo;]è¦è®°å¾—, ä»»ä½•æœªç»åˆå§‹åŒ–çš„å®ä¾‹å˜é‡çš„å€¼éƒ½ä¸ºnullå“¦[/epcl_box]</p>
<p>ä¸‹ä¸€æ­¥, æˆ‘ä»¬æ¥ç¼–å†™ä»£ç æ—¶å¦å…‹ä¸»ä½“è§’åº¦è½¬å‘ç›®æ ‡è§’åº¦. æ›´æ–°<code>update</code>å‡½æ•°ä¸º:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> update(<span style="color:#66d9ef">double</span> t) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">double</span> rotationRate <span style="color:#f92672">=</span> pi <span style="color:#f92672">*</span> t;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (targetBodyAngle <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (bodyAngle <span style="color:#f92672">&lt;</span> targetBodyAngle) { <span style="color:#66d9ef">if</span> ((targetBodyAngle <span style="color:#f92672">-</span> bodyAngle).abs() <span style="color:#f92672">&gt;</span> pi) {
</span></span><span style="display:flex;"><span>        bodyAngle <span style="color:#f92672">=</span> bodyAngle <span style="color:#f92672">-</span> rotationRate;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (bodyAngle <span style="color:#f92672">&lt;</span> <span style="color:#f92672">-</span>pi) { bodyAngle <span style="color:#f92672">+=</span> pi <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span>; } } <span style="color:#66d9ef">else</span> { bodyAngle <span style="color:#f92672">=</span> bodyAngle <span style="color:#f92672">+</span> rotationRate; <span style="color:#66d9ef">if</span> (bodyAngle <span style="color:#f92672">&gt;</span> targetBodyAngle) {
</span></span><span style="display:flex;"><span>          bodyAngle <span style="color:#f92672">=</span> targetBodyAngle;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (bodyAngle <span style="color:#f92672">&gt;</span> targetBodyAngle) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> ((targetBodyAngle <span style="color:#f92672">-</span> bodyAngle).abs() <span style="color:#f92672">&gt;</span> pi) {
</span></span><span style="display:flex;"><span>        bodyAngle <span style="color:#f92672">=</span> bodyAngle <span style="color:#f92672">+</span> rotationRate;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (bodyAngle <span style="color:#f92672">&gt;</span> pi) {
</span></span><span style="display:flex;"><span>          bodyAngle <span style="color:#f92672">-=</span> pi <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        bodyAngle <span style="color:#f92672">=</span> bodyAngle <span style="color:#f92672">-</span> rotationRate;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (bodyAngle <span style="color:#f92672">&lt;</span> targetBodyAngle) {
</span></span><span style="display:flex;"><span>          bodyAngle <span style="color:#f92672">=</span> targetBodyAngle;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>


  <blockquote>
    <p>ğŸ’¡ ä»£ç è§£æ: è¿™ä¸€å—çš„ä»£ç é‡æ¯”è¾ƒå¤š. é¦–å…ˆ, æˆ‘ä»¬å£°æ˜ä¸€ä¸ª<code>rotationRate</code>å¸¸é‡, å…¶å€¼<code>pi</code>ä¹˜ä»¥å½“å‰æ—¶é—´å¢é‡(<code>t</code>). ç„¶åæ ¹æ®å½“å‰<code>bodyAngle</code>å’Œ<code>targetBodyAngle</code>ä¹‹é—´çš„å…³ç³», æˆ‘ä»¬å‡å»æˆ–æ·»åŠ ä¸€ä¸ª<code>rotaionRate</code>çš„å€¼</p>
  </blockquote>

<p>[epcl_box type=&ldquo;information&rdquo;]å› ä¸ºç›®å‰æˆ‘è¿˜æ²¡æœ‰æƒ³å‡ºä¸Šé¢çš„ä»£ç å¦‚ä½•æ›´ç®€çº¦çš„å†™å‡º. æ‰€ä»¥ç›®å‰å…ˆä½¿ç”¨ä¸Šè¿°ä»£ç , å¦‚æœå¯¹æ­¤æœ‰ç–‘é—®, æ¬¢è¿è®¨è®º.[/epcl_box]</p>
<p>å›åˆ° <code>./lib/lame-tank-360.dart</code>, åœ¨<code>update()</code>å†…éƒ¨, ä¿è¯tankçš„<code>update</code>å‡½æ•°å·²è¢«è°ƒç”¨. åœ¨åˆ¤æ–­<code>screenSize</code>æ˜¯å¦ä¸º<code>null</code>ä¸‹æ–¹æ·»åŠ ä»£ç :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span>tank.update(t);
</span></span></code></pre></div><p>åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°, ç”¨ä½œæ‘‡æ†å€¼å˜æ›´çš„å¤„ç†å™¨.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> onLeftJoypadChange(Offset offset) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (offset <span style="color:#f92672">==</span> Offset.zero) {
</span></span><span style="display:flex;"><span>    tank.targetBodyAngle <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>  } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>    tank.targetBodyAngle <span style="color:#f92672">=</span> offset.direction;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>æœ€ç»ˆ, åœ¨ <code>./lib/main.dart</code>ä¸­æ›¿æ¢å·¦è¾¹çš„æ‘‡æ†å¤„ç†å™¨:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span>Joypad(
</span></span><span style="display:flex;"><span>  onChange: (Offset delta) <span style="color:#f92672">=&gt;</span> print(delta),
</span></span><span style="display:flex;"><span>),
</span></span></code></pre></div><p>ä¸º:</p>
<pre tabindex="0"><code>Joypad(
  onChange: game.onLeftJoypadChange,
),
</code></pre>


  <blockquote>
    <p>è¿™æ ·ä¸€æ¥, æ¯æ¬¡<code>onChange</code>åœ¨æ‘‡æ†ä¸Šè§¦å‘æ—¶, ä¹Ÿä¼šè°ƒç”¨<code>onLeftJoypadChange</code>å¤„ç†å™¨, å¹¶å°†æ‘‡æ†çš„<code>OffSet</code>ä¼ é€’ç»™å®ƒ.</p>
  </blockquote>

<p>[epcl_box type=&ldquo;success&rdquo;]å¦‚æœä¸Šé¢çš„ä»£ç æ²¡æœ‰é—®é¢˜, è¿è¡Œé¡¹ç›®, æŸ¥çœ‹ç±»ä¼¼å¦‚ä¸‹çš„æ•ˆæœ![/epcl_box]</p>
<p><img src="images/Flutter-Flame-%E6%91%87%E6%9D%86-08.gif" alt="Flutter Flame æ‘‡æ†-08"></p>
<h4 id="ç‚®å°ç‹¬ç«‹æ—‹è½¬">ç‚®å°ç‹¬ç«‹æ—‹è½¬</h4>
<p>æ¥ä¸‹æ¥æ˜¯å³ä¾§çš„æ‘‡æ†. æˆ‘ä»¬éœ€è¦å°†å…¶å˜åŒ–ç»‘å®šè‡³ç‚®å°ä¸Š, ä½¿å…¶ä¸å¦å…‹ä¸»ä½“åˆ†å¼€æ—‹è½¬.</p>
<p>å›åˆ°<code>./lib/components/tank.dart</code>ä¸­, æˆ‘ä»¬éœ€è¦ä¸€ä¸ªç‚®å°çš„ç›®æ ‡è§’åº¦, ç‚®å°è¦&quot;è¿½èµ¶&quot;è¿™ä¸ªç›®æ ‡è§’åº¦. æ‰€ä»¥æˆ‘ä»¬å…ˆæ·»åŠ è¿™ä¸ªå®ä¾‹å˜é‡:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#66d9ef">double</span> targetTurretAngle;
</span></span></code></pre></div><p>æ¥ä¸‹æ¥, ä¿®æ”¹<code>update</code>å‡½æ•°, å¹¶æ ¹æ®ç›®æ ‡è§’åº¦è®¡ç®—ç‚®å°è§’åº¦, åŒæ—¶è€ƒè™‘å¦å…‹ä¸»ä½“çš„è§’åº¦. åœ¨è®¡ç®—ä¸»ä½“è§’åº¦ä¸‹é¢ç¼–å†™ä»¥ä¸‹ä»£ç :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dart" data-lang="dart"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (targetTurretAngle <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">double</span> localTargetTurretAngle <span style="color:#f92672">=</span> targetTurretAngle <span style="color:#f92672">-</span> bodyAngle;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (turretAngle <span style="color:#f92672">&lt;</span> localTargetTurretAngle) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ((localTargetTurretAngle <span style="color:#f92672">-</span> turretAngle).abs() <span style="color:#f92672">&gt;</span> pi) {
</span></span><span style="display:flex;"><span>      turretAngle <span style="color:#f92672">=</span> turretAngle <span style="color:#f92672">-</span> rotationRate;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (turretAngle <span style="color:#f92672">&lt;</span> <span style="color:#f92672">-</span>pi) {
</span></span><span style="display:flex;"><span>        turretAngle <span style="color:#f92672">+=</span> pi <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>      turretAngle <span style="color:#f92672">=</span> turretAngle <span style="color:#f92672">+</span> rotationRate;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (turretAngle <span style="color:#f92672">&gt;</span> localTargetTurretAngle) {
</span></span><span style="display:flex;"><span>        turretAngle <span style="color:#f92672">=</span> localTargetTurretAngle;
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (turretAngle <span style="color:#f92672">&gt;</span> localTargetTurretAngle) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> ((localTargetTurretAngle <span style="color:#f92672">-</span> turretAngle).abs() <span style="color:#f92672">&gt;</span> pi) {
</span></span><span style="display:flex;"><span>      turretAngle <span style="color:#f92672">=</span> turretAngle <span style="color:#f92672">+</span> rotationRate;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (turretAngle <span style="color:#f92672">&gt;</span> pi) {
</span></span><span style="display:flex;"><span>        turretAngle <span style="color:#f92672">-=</span> pi <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>      turretAngle <span style="color:#f92672">=</span> turretAngle <span style="color:#f92672">-</span> rotationRate;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (turretAngle <span style="color:#f92672">&lt;</span> localTargetTurretAngle) {
</span></span><span style="display:flex;"><span>        turretAngle <span style="color:#f92672">=</span> localTargetTurretAngle;
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>


  <blockquote>
    <p>ğŸ’¡ ä»£ç è§£æ: å‡ ä¹ä¸&quot;è®¡ç®—å¦å…‹ä¸»ä½“è§’åº¦&quot;éƒ¨åˆ†å®Œå…¨ä¸€æ ·, ä½†æ˜¯å®ƒåœ¨å¤„ç†è§’åº¦ä¹‹å‰, ä¼šå…ˆä»ç›®æ ‡è§’åº¦å…ˆå‡å»å¦å…‹ä¸»ä½“è§’åº¦. è¿™ä¸ªå·®å€¼å°±æˆä¸ºäº†ç‚®å°å³å°†è¿½èµ¶çš„ç›®æ ‡è§’åº¦. åœ¨æ¸²æŸ“æœŸé—´, è¿™ä¸¤ä¸ªæ—‹è½¬æœ€ç»ˆä¼šè¢«æ·»åŠ è¿›æ¥ï¼Œç»™ç‚®å¡”ä¸€ä¸ªåˆé€‚çš„è§’åº¦ã€‚</p>
  </blockquote>

<p>ç„¶å, ç¡®ä¿æ¸²æŸ“ç‚®å°æ—¶å°†å…¶æ—‹è½¬åˆ°é€‚å½“çš„è§’åº¦. åœ¨ç»˜åˆ¶å¦å…‹çš„&quot;è½¦è½®&quot;ä¸‹é¢, æ·»åŠ ä»¥ä¸‹ä»£ç :</p>
<pre tabindex="0"><code>// æ—‹è½¬ç‚®å°
c.rotate(turretAngle);
</code></pre>


  <blockquote>
    <p>æ­¤æ—‹è½¬åº”ç”¨äºå¦å…‹ä¸»ä½“æ—‹è½¬çš„é¡¶éƒ¨, æ‰€ä»¥æ˜¯åŠ æ³•.</p>
  </blockquote>

<p>ä¹‹å, è·³è½¬åˆ°gameç±»(<code>./lib/lame-tank-360.dart</code>)å¹¶ä¸ºå³ä¾§æ‘‡æ†æ·»åŠ æ­¤å‡½æ•°:</p>
<pre tabindex="0"><code>void onRightJoypadChange(Offset offset) {
  if (offset == Offset.zero) {
    tank.targetTurretAngle = null;
  } else {
    tank.targetTurretAngle = offset.direction;
  }
}
</code></pre><p>æœ€ç»ˆ, æ›¿æ¢<code>./lib/main.dart</code>ä¸­å³ä¾§æ¸¸æˆæ‰‹æŸ„çš„<code>onChange</code>å±æ€§çš„å€¼, ä¿®æ”¹:</p>
<pre tabindex="0"><code>Joypad(
  onChange: (Offset delta) =&gt; print(delta),
),
</code></pre><p>ä¸º:</p>
<pre tabindex="0"><code>Joypad(
  onChange: game.onRightJoypadChange,
),
</code></pre><p>[epcl_box type=&ldquo;success&rdquo;]ç°åœ¨è¿è¡Œé¡¹ç›®, åº”è¯¥å¯ä»¥ç±»ä¼¼è¿™æ ·çš„æ•ˆæœ:[/epcl_box]</p>
<p><img src="images/Flutter-Flame-%E6%91%87%E6%9D%86-09.gif" alt="Flutter Flame æ‘‡æ†-09"></p>
<p>åªæ˜¯åŸåœ°è½¬åœˆå¤ªæ— èŠäº†, <strong>æˆ‘ä»¬æƒ³è®©å®ƒåŠ¨èµ·æ¥!</strong></p>
<p>è¿”å›<code>./lib/components/tank.dart</code>, <code>update()</code>å†…, åœ¨åˆ¤æ–­<code>targetBodyAngle</code>æ˜¯å¦ä¸ä¸º<code>null</code>çš„å†…éƒ¨æ·»åŠ :</p>
<pre tabindex="0"><code>if (bodyAngle == targetBodyAngle) {
  position = position + Offset.fromDirection(bodyAngle, 100 * t);
} else {
  position = position + Offset.fromDirection(bodyAngle, 50 * t);
}
</code></pre>


  <blockquote>
    <p>ğŸ’¡ ä»£ç è§£æ: å¦å…‹åœ¨æ—‹è½¬æ—¶åº”è¯¥ç§»åŠ¨çš„è¾ƒæ…¢(<code>50</code>ä¸ªé€»è¾‘åƒç´ ), ç›´çº¿è¿åŠ¨æ—¶ä¸ºæ­£å¸¸é€Ÿåº¦(<code>100</code>ä¸ªé€»è¾‘åƒç´ ). è¿™å°±æ˜¯<code>if</code>åˆ¤æ–­çš„æ„ä¹‰æ‰€åœ¨.</p>
  </blockquote>

<p>[epcl_box type=&ldquo;success&rdquo;]è¿è¡Œé¡¹ç›®, æŸ¥çœ‹æ•ˆæœ! ç°åœ¨åº”è¯¥å¯ä»¥çœ‹åˆ°å¦å…‹çš„ç§»åŠ¨å•¦![/epcl_box]</p>
<p><img src="images/Flutter-Flame-%E6%91%87%E6%9D%86-10.gif" alt="Flutter Flame æ‘‡æ†-10"></p>
<p>[epcl_box type=&ldquo;information&rdquo;]æŒ‘æˆ˜ä¸€: å¦‚æœä½ æ„¿æ„, å¯ä»¥æ¥å—è¿™ä¸ªæŒ‘æˆ˜. ä¸å…¶ä¿æŒæ’å®šçš„ç§»é€Ÿ, ä¸å¦‚å°è¯•åŠ é€Ÿåº¦. ä»0å¼€å§‹, é€æ¸å¢åŠ é€Ÿåº¦åˆ°æœ€å¤§é€Ÿåº¦![/epcl_box]</p>
<p>[epcl_box type=&ldquo;notice&rdquo;]æŒ‘æˆ˜äºŒ: å¦‚æœä½ è¿›è¡Œäº†åŠ é€Ÿ, ä½•ä¸è¯•è¯•å‡é€Ÿå‘¢?[/epcl_box]</p>
<h3 id="æŒ‰é’®å’Œå­å¼¹">æŒ‰é’®å’Œå­å¼¹</h3>
<p>å¦å…‹æ€èƒ½ä¸ä¼šå¼€ç‚®? è®©æˆ‘ä»¬æ¥è®©è¿™ä¸ªå¦å…‹ä»ç‚®ç­’å†…å‘å°„ç‚®å¼¹.</p>
<p>æˆ‘ä»¬å°†æ·»åŠ ä¸¤ä¸ªæŒ‰é’®, æ¯ä¸ªæŒ‰é’®éƒ½åœ¨æ‘‡æ†ä¸Šæ–¹. è¿™æ ·æ˜¯ä¸ºäº†æ–¹ä¾¿ç©å®¶, å¯ä½¿ç”¨ä»»æ„çš„æ‹‡æŒ‡è¿›è¡Œå¼€ç‚®.</p>
<h4 id="æŒ‰é’®widget">æŒ‰é’®widget</h4>
<p>ç”±äºæˆ‘ä»¬å°†ä½¿ç”¨ä¸¤ä¸ªå¤–è§‚å’ŒåŠŸèƒ½ç›¸åŒçš„æŒ‰é’®, æˆ‘ä»¬æ¥åˆ›å»ºå•ç‹¬çš„widgetæ¥å¤ç”¨, ä»¥å¤šæ¬¡ä½¿ç”¨, å‡å°‘é‡å¤ä»£ç .</p>
<p>åˆ›å»ºæ–‡ä»¶<code>./lib/widgets/button.dart</code>, è¾“å…¥ä»¥ä¸‹å†…å®¹:</p>
<pre tabindex="0"><code>import &#39;package:flutter/material.dart&#39;;

class Button extends StatelessWidget {
  final void Function() onTap;

  const Button({
    Key key,
    @required this.onTap,
  }) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return SizedBox(
      height: 64,
      width: 64,
      child: Container(
        decoration: BoxDecoration(
          borderRadius: BorderRadius.circular(32),
        ),
        child: GestureDetector(
          child: Container(
            decoration: BoxDecoration(
              color: Color(0x88ffffff),
              borderRadius: BorderRadius.circular(32),
            ),
          ),
          onTap: onTap,
        ),
      ),
    );
  }
}
</code></pre>


  <blockquote>
    <p>ğŸ’¡ ä»£ç è§£æ: å®ƒåªæ˜¯ä¸€ä¸ªåœ†å½¢ç™½è‰²åŠé€æ˜çš„<code>Container</code>, æ”¾åœ¨ä¸€ä¸ª<code>GestureDetector</code>(æ‰‹åŠ¿æ£€æµ‹å™¨)ä¸­, å½¢çŠ¶æ˜¯åœ†å½¢çš„(å—å¦ä¸€ä¸ªåœ†å½¢<code>Container</code>çš„é™åˆ¶). åœ¨å…¶æ„é€ å‡½æ•°ä¸­, <code>onTap</code>å±æ€§æ˜¯å¿…é€‰çš„å‚æ•°, å¹¶ä¸”éœ€è¦ä¼ å…¥ä¸€ä¸ªå‡½æ•°. è¿™ä¸ªå‡½æ•°åœ¨è¢«ç‚¹å‡»æ—¶ç”±<code>GestureDetector</code>è¿›è¡Œè°ƒç”¨.</p>
  </blockquote>

<h4 id="å°†æŒ‰é’®æ·»åŠ è‡³uiå±‚">å°†æŒ‰é’®æ·»åŠ è‡³UIå±‚</h4>
<p>æˆ‘ä»¬è·³è½¬åˆ°<code>./lib/lame-tank-360.dart</code>æ·»åŠ ä¸€ä¸ªç‚¹å‡»æŒ‰é’®çš„å¤„ç†å™¨, å…ˆå®šä¹‰, ç­‰ä¸‹æˆ‘ä»¬æ¥å¡«å……å‡½æ•°:</p>
<pre tabindex="0"><code>void onButtonTap() {}
</code></pre><p>æœ€åæˆ‘ä»¬æ‰“å¼€<code>./lib/main.dart</code>, å…ˆå¯¼å…¥:</p>
<pre tabindex="0"><code>import &#39;package:lame_tank_360/widgets/button.dart&#39;;
</code></pre><p>å°†è¿™äº›æŒ‰é’®æ·»åŠ è‡³å¸ƒå±€å†…, åœ¨æ‘‡æ†å±‚æ·»åŠ ä»¥ä¸‹ä»£ç å—. å°†å®ƒä»¬æ”¾åœ¨åŒ…å«<code>Joypads</code>çš„<code>Row</code>ä¸Šçš„<code>Column</code>å±‚ä¸Š.</p>
<pre tabindex="0"><code>Row(
  children: [
    SizedBox(width: 48),
    Button(
      onTap: game.onButtonTap,
    ),
    Spacer(),
    Button(
      onTap: game.onButtonTap,
    ),
    SizedBox(width: 48),
  ],
),
</code></pre>


  <blockquote>
    <p>ğŸ’¡ ä»£ç è§£æ: å’Œ<code>Joypad</code>åˆ—ç±»ä¼¼, å·¦å³ä¸¤ä¾§éƒ½æœ‰<code>SizedBox</code>ä½œä¸ºåˆ†éš”ç¬¦, è€Œä¸€ä¸ª<code>Spacer</code>widgetå°†å……æ»¡å®ƒä»¬ä¹‹é—´çš„ç©ºé—´.</p>
  </blockquote>

<p>å°†ä»¥ä¸‹è¡Œæ·»åŠ åˆ°æŒ‰é’®rowå’Œæ‘‡æ†rowä¹‹é—´:</p>
<pre tabindex="0"><code>SizedBox(height: 20),
</code></pre><p>æ•´ä¸ªæ‘‡æ†å±‚çš„ä»£ç :</p>
<pre tabindex="0"><code>// æ‘‡æ†å±‚
          Column(
            children: [
              Spacer(),
              Row(
                children: [
                  SizedBox(width: 48),
                  Button(
                    onTap: game.onButtonTap,
                  ),
                  Spacer(),
                  Button(
                    onTap: game.onButtonTap,
                  ),
                  SizedBox(width: 48),
                ],
              ),
              SizedBox(height: 20),
              Row(
                children: [
                  SizedBox(width: 48),
                  Joypad(
                    onChange: game.onLeftJoypadChange,
                  ),
                  Spacer(),
                  Joypad(
                    onChange: game.onRightJoypadChange,
                  ),
                  SizedBox(width: 48),
                ],
              ),
              SizedBox(height: 24),
            ],
          ),
</code></pre><p>[epcl_box type=&ldquo;success&rdquo;]è¿è¡Œé¡¹ç›®, å±å¹•ä¸Šåº”è¯¥åƒè¿™æ ·, å¤šäº†ä¸¤ä¸ªæŒ‰é’®:[/epcl_box]</p>
<p><img src="images/Flutter-Flame-%E6%91%87%E6%9D%86-11.png" alt="Flutter Flame æ‘‡æ†-11"></p>
<h4 id="å­å¼¹component">å­å¼¹component</h4>
<p>åˆ›å»º<code>./lib/components/bullet.dart</code>:</p>
<pre tabindex="0"><code>import &#39;dart:ui&#39;;
import &#39;package:lame_tank_360/lame-tank-360.dart&#39;;

class Bullet {
  final LameTank360 game;
  final double speed = 300;
  Offset position;
  double angle = 0;
  bool isOffscreen = false;

  Bullet(this.game, {this.position, this.angle});

  void render(Canvas c) {
  }

  void update(double t) {
  }
}
</code></pre>


  <blockquote>
    <p>ğŸ’¡ ä»£ç è§£æ: æˆ‘ä»¬å†æ¬¡åˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„component. <code>speed</code>ä½¿ç”¨<code>final</code>æ¥ä¿®é¥°ä½¿å…¶å˜ä¸ºå¸¸é‡, å¹¶å°†å…¶ç”¨äºç§»åŠ¨å­å¼¹. æˆ‘ä»¬è¿˜è·Ÿè¸ªå­å¼¹çš„ä½ç½®å’Œè§’åº¦(ä¸¤è€…å‡åœ¨åˆ›å»ºæ—¶æä¾›).</p>
  </blockquote>

<p>ç»§ç»­ç¼–å†™class, è®©æˆ‘ä»¬æ¥ç¼–å†™<code>render()</code>çš„å†…å®¹:</p>
<pre tabindex="0"><code>void render(Canvas c) {
  c.save();
  c.translate(position.dx, position.dy);

  // rotate the canvas
  c.rotate(angle);

  c.drawRect(
    Rect.fromLTWH(-10, -3, 16, 6),
    Paint()..color = Color(0xffff0000),
  );

  c.restore();
}
</code></pre>


  <blockquote>
    <p>ğŸ’¡ ä»£ç è§£æ: é¦–å…ˆä»¥å­å¼¹çš„å½“å‰è§’åº¦æ—‹è½¬canvas, ç„¶åç»˜åˆ¶çº¢è‰²Rect</p>
  </blockquote>

<p>ç„¶åç¼–å†™<code>update()</code>:</p>
<pre tabindex="0"><code>void update(double t) {
  if (isOffscreen) {
    return;
  }

  position = position + Offset.fromDirection(angle, speed * t);
  if (position.dx &lt; -50) {
    isOffscreen = true;
  }
  if (position.dx &gt; game.screenSize.width + 50) {
    isOffscreen = true;
  }
  if (position.dy &lt; -50) {
    isOffscreen = true;
  }
  if (position.dy &gt; game.screenSize.height + 50) {
    isOffscreen = true;
  }
}
</code></pre>


  <blockquote>
    <p>ğŸ’¡ ä»£ç è§£æ: æˆ‘ä»¬é€šè¿‡æ·»åŠ <code>Offset</code>(åç§»é‡)æ¥æ›´æ–°å­å¼¹çš„ä½ç½®, è¯¥åç§»é‡æ˜¯é€šè¿‡<code>speed</code>å¸¸é‡ä¹˜ä»¥æ—¶é—´å¢é‡(<code>t</code>)åœ¨ç»™å®šè§’åº¦ä¸‹äº§ç”Ÿçš„, ç”¨ä»¥ç¡®ä¿æ— è®ºFPSæ˜¯å¤šå°‘, å­å¼¹ä¸€ç›´ä»¥æ’ç­‰é€Ÿåº¦è¿›è¡Œç§»åŠ¨. ç„¶åæˆ‘ä»¬æ£€æŸ¥å­å¼¹æ˜¯å¦ä»å±å¹•çš„å››ä¸ªè¾¹ç•Œè¶…å‡º50åƒç´ . å¦‚æœæ˜¯, åˆ™å°†å…¶æ ‡è®°ä¸º&quot;å±å¹•å¤–&quot;(<code>isOffscreen = true;</code>)</p>
  </blockquote>

<p>æœ€ç»ˆ, æ•´ä¸ªå­å¼¹component:</p>
<pre tabindex="0"><code>import &#39;dart:ui&#39;;
import &#39;package:lame_tank_360/lame-tank-360.dart&#39;;

class Bullet {
  final LameTank360 game;
  final double speed = 300;
  Offset position;
  double angle = 0;
  bool isOffscreen = false;

  Bullet(this.game, {this.position, this.angle});

  void render(Canvas c) {
    c.save();
    c.translate(position.dx, position.dy);

    // rotate the canvas
    c.rotate(angle);

    c.drawRect(
      Rect.fromLTWH(-10, -3, 16, 6),
      Paint()..color = Color(0xffff0000),
    );

    c.restore();
  }

  void update(double t) {
    if (isOffscreen) {
      return;
    }

    position = position + Offset.fromDirection(angle, speed * t);
    if (position.dx &lt; -50) {
      isOffscreen = true;
    }
    if (position.dx &gt; game.screenSize.width + 50) {
      isOffscreen = true;
    }
    if (position.dy &lt; -50) {
      isOffscreen = true;
    }
    if (position.dy &gt; game.screenSize.height + 50) {
      isOffscreen = true;
    }
  }
}
</code></pre><h3 id="å‘å°„å­å¼¹">å‘å°„å­å¼¹</h3>
<p>è¿™äº›æŒ‰é’®å·²ç»å’Œgameçš„<code>onTapHandler</code>è¿›è¡Œå…³è”, å› æ­¤æˆ‘ä»¬åªéœ€ç¼–å†™æ·»åŠ å­å¼¹çš„ä»£ç å³å¯.</p>
<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦åœ¨tankç±»ä¸­ä½¿ç”¨ä¸¤ä¸ªè¾…åŠ©åŠŸèƒ½, ä»¥è·å–ä»å¦å…‹ç‚®å¡”ä¸­å°„å‡ºçš„å­å¼¹çš„ä½ç½®åŠæ–¹å‘.</p>
<p>æ‰“å¼€<code>./lib/components/tank.dart</code>, æ·»åŠ :</p>
<pre tabindex="0"><code>Offset getBulletOffset() {
  return position +
      Offset.fromDirection(
        getBulletAngle(),
        36,
      );
}

double getBulletAngle() {
  double bulletAngle = bodyAngle + turretAngle;
  while (bulletAngle &gt; pi) {
    bulletAngle -= pi * 2;
  }
  while (bulletAngle &lt; -pi) {
    bulletAngle += pi * 2;
  }
  return bulletAngle;
}
</code></pre>


  <blockquote>
    <p>ğŸ’¡ ä»£ç è§£æ: <code>getBulletOffset()</code>è¿”å›å¦å…‹çš„ä½ç½®ä»¥åŠç‚®å¡”çš„è§’åº¦å’Œé•¿åº¦åˆ›å»ºçš„æ–°<code>Offset</code>. å­å¼¹çš„è§’åº¦å°±æ˜¯å¦å…‹ä¸»ä½“è§’åº¦å’Œç‚®å¡”è§’åº¦çš„æ€»å’Œ. ä¸¤ä¸ª<code>while</code>å¾ªç¯ä»¥ç¡®ä¿è¿™ä¸ªè§’åº¦ä¸è¶…è¿‡<code>pi</code>æˆ–ä¸ä½äºè´Ÿ<code>pi</code>.</p>
  </blockquote>

<p>ç„¶å, è¿”å›<code>./lib/lame-tank-360.dart</code>. åœ¨ä»»ä½•ç»™å®šçš„ç‚¹, å¯èƒ½ä¼šæœ‰å¤šä¸ªå­å¼¹é£æ¥é£å», ä¸ºäº†ä¿å­˜å®ƒä»¬, æˆ‘ä»¬å°†åˆ›å»º<code>List</code>, ä¸“é—¨ç”¨äºä¿å­˜è¿™äº›<code>Bullet</code>.</p>
<p>é¦–å…ˆå¯¼å…¥å­å¼¹:</p>
<pre tabindex="0"><code>import &#39;package:lame_tank_360/components/bullet.dart&#39;;
</code></pre><p>ç„¶åæ·»åŠ ä¸€ä¸ªä¿å­˜å­å¼¹é›†åˆçš„å®ä¾‹å˜é‡:</p>
<pre tabindex="0"><code>List&lt;Bullet&gt; bullets;
</code></pre><p>åœ¨<code>resize</code>å‡½æ•°ä¸­, æˆ‘ä»¬è¦ç¡®ä¿listå·²è¢«åˆå§‹åŒ–. åœ¨tankåˆå§‹åŒ–ä¸‹æ–¹æ·»åŠ :</p>
<pre tabindex="0"><code>if (bullets == null) {
  bullets = List();
}
</code></pre><p>ç„¶åæˆ‘ä»¬éœ€è¦ç¡®ä¿bulletséšgameç±»ä¸€èµ·æ›´æ–°. åœ¨<code>update()</code>åº•éƒ¨æ·»åŠ ä»£ç :</p>
<pre tabindex="0"><code>// è®©å­å¼¹é£
    bullets.forEach((Bullet b) {
      b.update(t);
    });

    // ç§»é™¤é£å‡ºå±å¹•çš„å­å¼¹
    bullets.removeWhere((Bullet b) {
      return b.isOffscreen;
    });
</code></pre>


  <blockquote>
    <p>ğŸ’¡ ä»£ç è§£æ: ç¬¬ä¸€ä¸ªå—å¾ªç¯listä¸­æ‰€æœ‰ç°æœ‰å­å¼¹å¹¶è¿›è¡Œæ›´æ–°. ç¬¬äºŒä¸ªå—ç”¨äºç§»é™¤é£å‡ºå±å¹•çš„å­å¼¹.</p>
  </blockquote>

<p>æˆ‘ä»¬è¿˜è¦ç¡®ä¿å­å¼¹è¢«ç»˜åˆ¶å®Œæˆ. åœ¨<code>render()</code>ä¸­æ·»åŠ :</p>
<pre tabindex="0"><code>// ç»˜åˆ¶å­å¼¹
    bullets.forEach((Bullet b) {
      b.render(c);
    });
</code></pre><p>ç°åœ¨å‰©ä¸‹çš„å°±æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„å­å¼¹å¹¶åœ¨æ¯æ¬¡è§¦å‘è¯¥æŒ‰é’®çš„ç‚¹å‡»å¤„ç†å™¨æ—¶å°†å…¶æ·»åŠ è‡³listä¸­. ä¿®æ”¹<code>onButtonTap</code>å¤„ç†å™¨, å¦‚ä¸‹:</p>
<pre tabindex="0"><code>void onButtonTap() {
  bullets.add(
    Bullet(
      this,
      position: tank.getBulletOffset(),
      angle: tank.getBulletAngle(),
    ),
  );
}
</code></pre><p>[epcl_box type=&ldquo;success&rdquo;]å¦‚æœä¸Šé¢çš„æ­¥éª¤æ²¡æœ‰é—®é¢˜, è¿è¡Œæ¸¸æˆ, åº”è¯¥å¯ä»¥å‘å°„å­å¼¹äº†:[/epcl_box]</p>
<p><img src="images/Flutter-Flame-%E6%91%87%E6%9D%86-12.gif" alt="Flutter Flame æ‘‡æ†-12"></p>
<h2 id="æºç ä¸‹è½½">æºç ä¸‹è½½</h2>
<p><strong>ğŸ‘‰åœ¨<a href="https://github.com/HarrisonQi/flame-tutorial-joypad-lame-tank-360" target="_blank">Github</a>
æˆ–<a href="https://gitee.com/HarrisonQI/flame-tutorial-joypad-lame-tan-360" target="_blank">ç äº‘</a>
ä¸ŠæŸ¥çœ‹å…¨éƒ¨ä»£ç .</strong></p>
<h2 id="æ„Ÿè°¢">æ„Ÿè°¢</h2>
<ul>
<li><a href="https://jap.alekhin.io/onscreen-joystick-joypad-controller-flame-game" target="_blank">ã€ŠOn-screen joystick/joypad game controller with Flameã€‹ - JapAlekhin</a>
</li>
<li><a href="https://wallhaven.cc/" target="_blank">WallHaven</a>
ä¸Š<a href="https://wallhaven.cc/user/ezhik" target="_blank">ezhik</a>
æä¾›çš„å›¾ç‰‡</li>
</ul>
<h2 id="ç»“è¯­">ç»“è¯­</h2>
<p>é€šè¿‡åˆ›å»ºæ‘‡æ†, ä½ åº”è¯¥å¯ä»¥åšå‡ºæ›´å¤šå¯ç©æ€§è¾ƒå¥½çš„æ¸¸æˆäº†!</p>


        
      </section>

      

      
    </article>
  </div>

  <div class="hidden lg:flex lg:flex-col lg:items-end">
    
  </div>
</div>


            
<footer class="flex justify-between items-center gap-2 px-4 py-12">

  <div>
  
  <p>Â© 2025 é˜¿èˆªçš„æŠ€æœ¯å°ç«™</p>
  

  
  <p class="text-sm">
    ğŸŒ±
    <span class="text-base-content/60">
      Powered by <a class="hover:underline" href="https://gohugo.io/" target="_blank">Hugo</a> with theme
      <a class="hover:underline" href="https://github.com/g1eny0ung/hugo-theme-dream" target="_blank">Dream</a>.</span
    >
  </p>
  
</div>

  <div
  x-data="{ icons: [
    { name: 'sunny', status: 'n' },
    { name: 'moon', status: 'y' },
    { name: 'desktop', status: 'auto' }
  ] }"
  class="flex items-center gap-2 h-[32px] px-2 bg-base-100 border border-base-content/30 rounded-full"
>
  <template x-for="icon in icons">
    <div
      role="button"
      tabindex="0"
      :aria-label="'Select ' + icon.name + ' mode'"
      class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary"
      :class="$store.darkMode.icon() === icon.name && 'bg-primary'"
      @click="$store.darkMode.toggle(icon.status)"
    >
      <ion-icon
        :name="`${icon.name}-outline`"
        class="group-hover:text-primary-content"
        :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"
      >
      </ion-icon>
    </div>
  </template>
</div>

</footer>

          </div>
        </div>
        <div class="back">
          <div class="container">
            
            <div class="dream-grid dream-grid-about">
  

  

  
</div>

            

            
<footer class="flex justify-between items-center gap-2 px-4 py-12">

  <div>
  
  <p>Â© 2025 é˜¿èˆªçš„æŠ€æœ¯å°ç«™</p>
  

  
  <p class="text-sm">
    ğŸŒ±
    <span class="text-base-content/60">
      Powered by <a class="hover:underline" href="https://gohugo.io/" target="_blank">Hugo</a> with theme
      <a class="hover:underline" href="https://github.com/g1eny0ung/hugo-theme-dream" target="_blank">Dream</a>.</span
    >
  </p>
  
</div>

  <div
  x-data="{ icons: [
    { name: 'sunny', status: 'n' },
    { name: 'moon', status: 'y' },
    { name: 'desktop', status: 'auto' }
  ] }"
  class="flex items-center gap-2 h-[32px] px-2 bg-base-100 border border-base-content/30 rounded-full"
>
  <template x-for="icon in icons">
    <div
      role="button"
      tabindex="0"
      :aria-label="'Select ' + icon.name + ' mode'"
      class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary"
      :class="$store.darkMode.icon() === icon.name && 'bg-primary'"
      @click="$store.darkMode.toggle(icon.status)"
    >
      <ion-icon
        :name="`${icon.name}-outline`"
        class="group-hover:text-primary-content"
        :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"
      >
      </ion-icon>
    </div>
  </template>
</div>

</footer>

          </div>
        </div>
      </div>
    </div>

    <script>
  window.lightTheme =  null 
  window.darkTheme =  null 
</script>


  <script src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>

  
  
  <script src="/js/grid.js"></script>




<script src="/js/main.js"></script>

    









    

    

    

    

    <script type="module" src="https://unpkg.com/ionicons@7.4.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.4.0/dist/ionicons/ionicons.js"></script>
  </body>
</html>

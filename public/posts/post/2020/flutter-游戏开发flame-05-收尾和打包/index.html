<!DOCTYPE html>
<html lang="zh-CN"
  x-data
  :class="$store.darkMode.class()"
  :data-theme="$store.darkMode.theme()">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flutter 游戏开发(flame) 05 收尾和打包(5/5) | 阿航的技术小站</title>

    

<link rel="canonical" href="http://localhost:1313/posts/post/2020/flutter-%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91flame-05-%E6%94%B6%E5%B0%BE%E5%92%8C%E6%89%93%E5%8C%85/" />



<meta name="author" content="" />
<meta name="description" content="完成一个项目是世界上最爽的感觉之一. 你呕心沥血的做某件事, 最终想法变成了现实.
最后, 欢迎来到本系列的终章. 当然, 只有你一步一步跟随阿航的教程, 终章才有意义.
如果你还没有看过之前的章节, 还请你循序渐进, &ldquo;一章一个脚印&rdquo;!
下面是我们本系列教程的文章目录:
Flutter 游戏开发(flame) Flame介绍 Flutter 游戏开发(flame) 01 开发2D休闲游戏：消灭小飞蝇(1/5) Flutter 游戏开发(flame) 02 图形和动画(2/5) Flutter 游戏开发(flame) 03 界面和弹窗(3/5) Flutter 游戏开发(flame) 04 分数, 存档和音效(4/5) Flutter 游戏开发(flame) 05 收尾和打包(5/5) 本章 需具备的条件 本系列教程之前的全部要求👈 更多的资源包 – 本教程提供了资源包, 但你也可以使用自己的. 推荐资源网站Open Game Art . 我们将使用与前一部分相同的编码规范👩‍🏫
最终的资源包 这个最后的资源仅有一个图像, 但是它有5种不同的尺寸. 当游戏安装在设备上时, 图像将作为玩家APP目录的启动图标.
点击图片或者此链接下载资源包! 🔴 注意: 如果你遵循本教程, 则可以使用上述资源包. 本资源包是Github上Langaw(原作者) 项目的一部分, 该项目获得CC-BY-NC-ND许可证的许可.
这意味着您可以共享、复制或者重新分发资源.
你必须在感谢中提到, 提供许可证的链接, 并标明你是否进行了更改. 你不得将资源用于商业目的. 如果混合, 转换或者构建资源, 则不能分发修改后的资源. 你不得应用法律条款或技术措施, 在法律上限制他人做许可证允许的任何事情. 点击此处了解有关 CC-BY-NC-ND 许可证的更多信息 " />


<meta name="keywords" content="Flame,Flutter,游戏开发">



<meta name="generator" content="Hugo 0.145.0">


<meta property="og:url" content="http://localhost:1313/posts/post/2020/flutter-%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91flame-05-%E6%94%B6%E5%B0%BE%E5%92%8C%E6%89%93%E5%8C%85/">
  <meta property="og:site_name" content="阿航的技术小站">
  <meta property="og:title" content="Flutter 游戏开发(flame) 05 收尾和打包(5/5)">
  <meta property="og:description" content="完成一个项目是世界上最爽的感觉之一. 你呕心沥血的做某件事, 最终想法变成了现实.
最后, 欢迎来到本系列的终章. 当然, 只有你一步一步跟随阿航的教程, 终章才有意义.
如果你还没有看过之前的章节, 还请你循序渐进, “一章一个脚印”!
下面是我们本系列教程的文章目录:
Flutter 游戏开发(flame) Flame介绍 Flutter 游戏开发(flame) 01 开发2D休闲游戏：消灭小飞蝇(1/5) Flutter 游戏开发(flame) 02 图形和动画(2/5) Flutter 游戏开发(flame) 03 界面和弹窗(3/5) Flutter 游戏开发(flame) 04 分数, 存档和音效(4/5) Flutter 游戏开发(flame) 05 收尾和打包(5/5) 本章 需具备的条件 本系列教程之前的全部要求👈 更多的资源包 – 本教程提供了资源包, 但你也可以使用自己的. 推荐资源网站Open Game Art . 我们将使用与前一部分相同的编码规范👩‍🏫
最终的资源包 这个最后的资源仅有一个图像, 但是它有5种不同的尺寸. 当游戏安装在设备上时, 图像将作为玩家APP目录的启动图标.
点击图片或者此链接下载资源包! 🔴 注意: 如果你遵循本教程, 则可以使用上述资源包. 本资源包是Github上Langaw(原作者) 项目的一部分, 该项目获得CC-BY-NC-ND许可证的许可.
这意味着您可以共享、复制或者重新分发资源.
你必须在感谢中提到, 提供许可证的链接, 并标明你是否进行了更改. 你不得将资源用于商业目的. 如果混合, 转换或者构建资源, 则不能分发修改后的资源. 你不得应用法律条款或技术措施, 在法律上限制他人做许可证允许的任何事情. 点击此处了解有关 CC-BY-NC-ND 许可证的更多信息">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2020-04-19T00:00:00+00:00">
    <meta property="article:modified_time" content="2020-04-19T00:00:00+00:00">
    <meta property="article:tag" content="Flame">
    <meta property="article:tag" content="Flutter">
    <meta property="article:tag" content="游戏开发">




  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Flutter 游戏开发(flame) 05 收尾和打包(5/5)">
  <meta name="twitter:description" content="完成一个项目是世界上最爽的感觉之一. 你呕心沥血的做某件事, 最终想法变成了现实.
最后, 欢迎来到本系列的终章. 当然, 只有你一步一步跟随阿航的教程, 终章才有意义.
如果你还没有看过之前的章节, 还请你循序渐进, “一章一个脚印”!
下面是我们本系列教程的文章目录:
Flutter 游戏开发(flame) Flame介绍 Flutter 游戏开发(flame) 01 开发2D休闲游戏：消灭小飞蝇(1/5) Flutter 游戏开发(flame) 02 图形和动画(2/5) Flutter 游戏开发(flame) 03 界面和弹窗(3/5) Flutter 游戏开发(flame) 04 分数, 存档和音效(4/5) Flutter 游戏开发(flame) 05 收尾和打包(5/5) 本章 需具备的条件 本系列教程之前的全部要求👈 更多的资源包 – 本教程提供了资源包, 但你也可以使用自己的. 推荐资源网站Open Game Art . 我们将使用与前一部分相同的编码规范👩‍🏫
最终的资源包 这个最后的资源仅有一个图像, 但是它有5种不同的尺寸. 当游戏安装在设备上时, 图像将作为玩家APP目录的启动图标.
点击图片或者此链接下载资源包! 🔴 注意: 如果你遵循本教程, 则可以使用上述资源包. 本资源包是Github上Langaw(原作者) 项目的一部分, 该项目获得CC-BY-NC-ND许可证的许可.
这意味着您可以共享、复制或者重新分发资源.
你必须在感谢中提到, 提供许可证的链接, 并标明你是否进行了更改. 你不得将资源用于商业目的. 如果混合, 转换或者构建资源, 则不能分发修改后的资源. 你不得应用法律条款或技术措施, 在法律上限制他人做许可证允许的任何事情. 点击此处了解有关 CC-BY-NC-ND 许可证的更多信息">




<link rel="stylesheet" href="/css/output.css" />




    


<style>
  pre {
    padding: 1em;
    overflow: auto;
  }
</style>









    

    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  </head>

  <body x-data="{
    flip: false,
  }">
    
    <div id="dream-global-bg"></div>

    
<nav class="mt-4 lg:mt-8 py-4">

  
  <div class="container flex justify-between px-4">
  
    <section class="flex items-center gap-4">
      <div class="avatar cursor-pointer hover:online" @click="flip = !flip" title="Flip it!">
        <div class="h-10 rounded-full">
          <img src="/" alt="" />
        </div>
      </div>

      
    </section>

    <div class="dropdown dropdown-end sm:hidden">
      <div tabindex="0" role="button" class="btn btn-ghost btn-square" aria-label="Select an option">
        <ion-icon name="menu" class="text-2xl"></ion-icon>
      </div>
      <ul tabindex="0" class="dropdown-content menu w-36 bg-base-100 rounded-box z-[1] shadow-md">
        

















<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/posts" title="Archives">
    <ion-icon name="archive"></ion-icon>
    Archives
  </a>
</li>




<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/categories" title="All Categories">
    <ion-icon name="grid"></ion-icon>
    All Categories
  </a>
</li>




<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/tags" title="All Tags">
    <ion-icon name="pricetags"></ion-icon>
    All Tags
  </a>
</li>






      </ul>
    </div>
    <section class="hidden sm:flex sm:items-center sm:gap-2 md:gap-4">
      
      

      

      
      





      
      





      
      





      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/posts" title="Archives">
  <ion-icon class="group-hover:text-primary-content" name="archive"></ion-icon>
</a>


      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/categories" title="All Categories">
  <ion-icon class="group-hover:text-primary-content" name="grid"></ion-icon>
</a>


      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/tags" title="All Tags">
  <ion-icon class="group-hover:text-primary-content" name="pricetags"></ion-icon>
</a>


      

      

      
    </section>
  </div>
</nav>


    <div class="flip-container" :class="{ 'flip-it': flip }">
      <div class="flipper">
        <div class="front">
          <div class="container">
            
<div class="lg:grid lg:grid-cols-4 gap-4 mt-4 px-4">
  <div class="hidden lg:block">
    
  </div>

  <div class="lg:col-span-2">
    <article class="mx-auto prose prose-quoteless dark:prose-invert" id="dream-single-post-main" itemscope itemtype="http://schema.org/Article">
      
  <meta itemprop="name" content="Flutter 游戏开发(flame) 05 收尾和打包(5/5)">
  <meta itemprop="description" content="完成一个项目是世界上最爽的感觉之一. 你呕心沥血的做某件事, 最终想法变成了现实.
最后, 欢迎来到本系列的终章. 当然, 只有你一步一步跟随阿航的教程, 终章才有意义.
如果你还没有看过之前的章节, 还请你循序渐进, “一章一个脚印”!
下面是我们本系列教程的文章目录:
Flutter 游戏开发(flame) Flame介绍 Flutter 游戏开发(flame) 01 开发2D休闲游戏：消灭小飞蝇(1/5) Flutter 游戏开发(flame) 02 图形和动画(2/5) Flutter 游戏开发(flame) 03 界面和弹窗(3/5) Flutter 游戏开发(flame) 04 分数, 存档和音效(4/5) Flutter 游戏开发(flame) 05 收尾和打包(5/5) 本章 需具备的条件 本系列教程之前的全部要求👈 更多的资源包 – 本教程提供了资源包, 但你也可以使用自己的. 推荐资源网站Open Game Art . 我们将使用与前一部分相同的编码规范👩‍🏫
最终的资源包 这个最后的资源仅有一个图像, 但是它有5种不同的尺寸. 当游戏安装在设备上时, 图像将作为玩家APP目录的启动图标.
点击图片或者此链接下载资源包! 🔴 注意: 如果你遵循本教程, 则可以使用上述资源包. 本资源包是Github上Langaw(原作者) 项目的一部分, 该项目获得CC-BY-NC-ND许可证的许可.
这意味着您可以共享、复制或者重新分发资源.
你必须在感谢中提到, 提供许可证的链接, 并标明你是否进行了更改. 你不得将资源用于商业目的. 如果混合, 转换或者构建资源, 则不能分发修改后的资源. 你不得应用法律条款或技术措施, 在法律上限制他人做许可证允许的任何事情. 点击此处了解有关 CC-BY-NC-ND 许可证的更多信息">
  <meta itemprop="datePublished" content="2020-04-19T00:00:00+00:00">
  <meta itemprop="dateModified" content="2020-04-19T00:00:00+00:00">
  <meta itemprop="wordCount" content="1062">
  <meta itemprop="keywords" content="Flame,Flutter,游戏开发">

      <header>
        <h1 itemprop="headline">Flutter 游戏开发(flame) 05 收尾和打包(5/5)</h1>
        <p class="text-sm">
          
            Sunday, Apr 19, 2020
          

          | <span>5 minute read</span>

          
          | <span>Updated at
            
              Sunday, Apr 19, 2020
            </span>
          
        </p>

        
        <div class="flex justify-between">
          

          <div class="flex items-center gap-2">
  
  

  
  
  
  
  
    <a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary"
      href="https://x.com/intent/post?text=Flutter%20%e6%b8%b8%e6%88%8f%e5%bc%80%e5%8f%91%28flame%29%2005%20%e6%94%b6%e5%b0%be%e5%92%8c%e6%89%93%e5%8c%85%285/5%29&amp;url=http://localhost:1313/posts/post/2020/flutter-%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91flame-05-%E6%94%B6%E5%B0%BE%E5%92%8C%E6%89%93%E5%8C%85/" target="_blank" rel="noopener noreferrer"
      title="Share on X">
      <ion-icon class="group-hover:text-primary-content" name="logo-x"></ion-icon>
    </a>
  
    <a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary"
      href="https://facebook.com/sharer/sharer.php?u=http://localhost:1313/posts/post/2020/flutter-%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91flame-05-%E6%94%B6%E5%B0%BE%E5%92%8C%E6%89%93%E5%8C%85/" target="_blank" rel="noopener noreferrer"
      title="Share on Facebook">
      <ion-icon class="group-hover:text-primary-content" name="logo-facebook"></ion-icon>
    </a>
  
    <a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary"
      href="https://wa.me/?text=Flutter%20%e6%b8%b8%e6%88%8f%e5%bc%80%e5%8f%91%28flame%29%2005%20%e6%94%b6%e5%b0%be%e5%92%8c%e6%89%93%e5%8c%85%285/5%29%20http://localhost:1313/posts/post/2020/flutter-%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91flame-05-%E6%94%B6%E5%B0%BE%E5%92%8C%E6%89%93%E5%8C%85/" target="_blank" rel="noopener noreferrer"
      title="Share on WhatsApp">
      <ion-icon class="group-hover:text-primary-content" name="logo-whatsapp"></ion-icon>
    </a>
  

  
  
</div>

        </div>
      </header>

      <section id="dream-single-post-content" itemprop="articleBody">
        

        <p>完成一个项目是世界上最爽的感觉之一. 你呕心沥血的做某件事, 最终想法变成了现实.</p>
<p>最后, 欢迎来到本系列的终章. 当然, 只有你一步一步跟随阿航的教程, 终章才有意义.</p>
<p>如果你还没有看过之前的章节, 还请你循序渐进, &ldquo;一章一个脚印&rdquo;!</p>
<p>下面是我们本系列教程的文章目录:</p>
<ul>
<li><a href="https://www.bugcatt.com/archives/279" target="_blank">Flutter 游戏开发(flame) Flame介绍</a>
</li>
<li><a href="https://www.bugcatt.com/archives/292" target="_blank">Flutter 游戏开发(flame) 01 开发2D休闲游戏：消灭小飞蝇(1/5)</a>
</li>
<li><a href="https://www.bugcatt.com/archives/560" target="_blank">Flutter 游戏开发(flame) 02 图形和动画(2/5)</a>
</li>
<li><a href="https://www.bugcatt.com/archives/562" target="_blank">Flutter 游戏开发(flame) 03 界面和弹窗(3/5)</a>
</li>
<li><a href="https://www.bugcatt.com/archives/564" target="_blank">Flutter 游戏开发(flame) 04 分数, 存档和音效(4/5)</a>
</li>
<li><strong>Flutter 游戏开发(flame) 05 收尾和打包(5/5) 本章</strong></li>
</ul>
<h2 id="需具备的条件">需具备的条件</h2>
<ol>
<li>本系列教程之前的<strong>全部要求</strong>👈</li>
<li><strong>更多的资源包</strong> – 本教程提供了资源包, 但你也可以使用自己的. 推荐资源网站<a href="https://opengameart.org/" target="_blank">Open Game Art</a>
.</li>
</ol>
<p>我们将使用与前一部分相同的<strong>编码规范</strong>👩‍🏫</p>
<h2 id="最终的资源包">最终的资源包</h2>
<p>这个最后的资源仅有一个图像, 但是它有5种不同的尺寸. 当游戏安装在设备上时, 图像将作为玩家APP目录的启动图标.</p>
<p><a href="https://jap.alekhin.io/wp-content/uploads/2019/04/resource-pack-part-5.zip" target="_blank"><img src="images/01-1.jpg" alt=""></a>
</p>
<p><a href="https://jap.alekhin.io/wp-content/uploads/2019/04/resource-pack-part-5.zip" target="_blank">点击图片或者此链接下载资源包!</a>
</p>
<hr>
<p>🔴 <strong>注意</strong>: 如果你遵循本教程, 则可以使用上述资源包. 本资源包是<a href="https://github.com/japalekhin/langaw" target="_blank">Github上Langaw(原作者)</a>
项目的一部分, 该项目获得<code>CC-BY-NC-ND</code>许可证的许可.</p>
<p>这意味着您可以共享、复制或者重新分发资源.</p>
<ul>
<li>你必须在感谢中提到, 提供许可证的链接, 并标明你是否进行了更改.</li>
<li>你不得将资源用于商业目的.</li>
<li>如果混合, 转换或者构建资源, 则不能分发修改后的资源.</li>
<li>你不得应用法律条款或技术措施, 在法律上限制他人做许可证允许的任何事情.</li>
</ul>
<p><a href="https://creativecommons.org/licenses/by-nc-nd/2.0/legalcode" target="_blank">点击此处了解有关 CC-BY-NC-ND 许可证的更多信息</a>
</p>
<p>阿航在这里提醒: 目前国内的版权保护做的不够好. 希望大家能够保护资源原作者辛苦的创作🙏🙏! 不能使用未经许可且无版权的资源, 向盗版说不👋!</p>
<hr>
<h2 id="收尾工作开始">收尾工作开始</h2>
<p>我们目前有三项主要任务.</p>
<p>首先, 我们需要检查我们的项目, 解决bug🐞, 为玩家提供一个没有问题的游戏体验.</p>
<p>其次, 游戏必须定义自己的品牌, 增加辨识度. 使用户可以在APP列表中快速找到.</p>
<p>最后, 我们需要对APP进行打包, 你可以发布到各种应用商店中供大家下载.</p>
<p>准备好了吗?</p>
<h3 id="第一步-修复bug">第一步: 修复Bug</h3>
<p>bug过街, 人人喊打. bug就是程序员的克星. 但是它却会常常伴在我们左右😅</p>
<p>不要让我们的玩家因为bug卸载我们的游戏.</p>
<h4 id="尺寸bug">尺寸Bug</h4>
<p>在<strong>第二章</strong>(<a href="https://blog.bugcatt.com/archives/560" target="_blank">图形和动画</a>
)中, 我们已经根据它们的图形调整小飞蝇的尺寸, 以便在击中小飞蝇或非常接近小飞蝇时击毙小飞蝇.</p>
<p>实际上并非如此.</p>
<p>&ldquo;检测点击是否击中小飞蝇的矩形范围&quot;与&quot;正在渲染小飞蝇的图像矩形范围&quot;的差值是通过<code>inflate</code>函数计算得出来的.</p>
<p>你可以从<code>./lib/components/fly.dart</code>的代码看出:</p>
<pre tabindex="0"><code>void render(Canvas c) {
  if (isDead) {
    deadSprite.renderRect(c, flyRect.inflate(2));
  } else {
    flyingSprite[flyingSpriteIndex.toInt()].renderRect(c, flyRect.inflate(2));
    if (game.activeView == View.playing) {
      callout.render(c);
    }
  }
}
</code></pre><p>原作者: 此前(第二章), 我认为<code>inflate()</code>接收一个百分比作为参数. 我假设<code>inflate(2)</code>会将矩形大小变为2倍(2 = 200%).</p>
<p>稍后检查时, <a href="https://docs.flutter.io/flutter/dart-ui/Rect/inflate.html" target="_blank">此函数的文档</a>
(和它的实际代码)虽然不是很明确, 但却说明了另一点.</p>
<p>返回一个新的矩形, 其边缘按给定增量向外移动.</p>
<p>传递的参数在文档中称为<code>delta</code>, 应该以<strong>逻辑像素</strong>为单位, 而不是调用该函数的矩形的百分比.</p>
<p>在下面的屏幕截图中, 你将看到我添加了两行代码来呈现<code>flyRect</code>矩形和它的一个&quot;扩大版&quot;副本.</p>
<p>灰色区域是<code>flyRect</code>(用于判断玩家是否击中小飞蝇), 它周围的白色区域是<code>flyRect</code>的&quot;扩大版&quot;副本.</p>
<p><img src="images/02.jpg" alt=""></p>
<p>这不是我们想要的.</p>
<p>我们希望sprite的尺寸是命中范围矩形的两倍.</p>
<p>要解决此问题, 打开<code>/lib/components/fly.dart</code>, 替换<code>render()</code>为:</p>
<pre tabindex="0"><code>void render(Canvas c) {
  c.drawRect(flyRect.inflate(flyRect.width / 2), Paint()..color = Color(0x77ffffff));

  if (isDead) {
    deadSprite.renderRect(c, flyRect.inflate(flyRect.width / 2));
  } else {
    flyingSprite[flyingSpriteIndex.toInt()].renderRect(c, flyRect.inflate(flyRect.width / 2));
    if (game.activeView == View.playing) {
      callout.render(c);
    }
  }

  c.drawRect(flyRect, Paint()..color = Color(0x88000000));
}
</code></pre>


  <blockquote>
    <p>💡 代码解析: 首行和末行用于绘制白色和灰色矩形便于查看, 等下会删除.</p>
  </blockquote>

<p>其他内容几乎不变, 主要变更是传递给<code>inflate</code>函数的参数. 我们之前是传递一个固定值<code>2</code>, 现在我们改为<code>flyRect</code>的宽度除以<code>2</code>.</p>
<p>这回在矩形的所有边上增加一半的宽度, 从而产生一个新的矩形, 其边长是原始矩形边长的2倍.</p>



  <blockquote>
    <p>🟡 提示: 由于<code>flyRect</code>实际上是一个正方形, 因此可按需在计算值时使用高度.</p>
  </blockquote>

<p>🟢 运行游戏, 你应该会看到类似以下内容:</p>
<p><img src="images/03-5.png" alt=""></p>
<p>有点乱, 但是你应该能看出来, 这更加符合我们第二章的计划.</p>
<p><img src="images/13-1024x555.png" alt=""></p>
<p>让我们删除辅助的两行:</p>
<pre tabindex="0"><code>c.drawRect(flyRect.inflate(flyRect.width / 2), Paint()..color = Color(0x77ffffff));
</code></pre><pre tabindex="0"><code>c.drawRect(flyRect, Paint()..color = Color(0x88000000));
</code></pre><p>实际上, 我们已经成功修复了bug.</p>
<p>但是现在的小飞蝇太大了, 我们稍微调小一点.</p>
<p>打开每个小飞蝇子类, 修改它们的构造函数中它们的尺寸.</p>
<p>家蝇(<code>./lib/components/house-fly.dart</code>):</p>
<pre tabindex="0"><code>flyRect = Rect.fromLTWH(x, y, game.tileSize * 1, game.tileSize * 1);
</code></pre><p>口水蝇🤤(<code>./lib/components/drooler-fly.dart</code>):</p>
<pre tabindex="0"><code>flyRect = Rect.fromLTWH(x, y, game.tileSize * 1, game.tileSize * 1);
</code></pre><p>迅捷蝇🐱‍🏍(<code>./lib/components/agile-fly.dart</code>):</p>
<pre tabindex="0"><code>flyRect = Rect.fromLTWH(x, y, game.tileSize * 1, game.tileSize * 1);
</code></pre><p>饥饿蝇🥴(<code>./lib/components/hungry-fly.dart</code>):</p>
<pre tabindex="0"><code>flyRect = Rect.fromLTWH(x, y, game.tileSize * 1.1, game.tileSize * 1.1);
</code></pre><p>肌肉蝇💪(<code>./lib/components/macho-fly.dart</code>):</p>
<pre tabindex="0"><code>flyRect = Rect.fromLTWH(x, y, game.tileSize * 1.35, game.tileSize * 1.35);
</code></pre><p>🟢 运行游戏, 你会发现小飞蝇的尺寸比较合适了:</p>
<p><img src="images/04-3.png" alt=""></p>
<p>至此, 我们终于可以自信的说出: 我成功修复了这个BUG!😄😄😄😄</p>
<h4 id="跳帧bug">跳帧bug</h4>
<p>接下来, 我们来处理跳帧bug. 由于大多数手机的CPU和GPU配置较高, 所以并不明显.</p>
<p>它不仅很隐蔽, 并且在大多数设备上不存在.</p>
<p>该bug是有设备的CPU没有足够的时间运行game loop以跟上预期的60FPS引起的(通俗易懂的讲, CPU太忙了, 有时候一秒钟运行game loop不到60次).</p>
<p>若使用模拟器运行游戏. 模拟器和电脑共享内存资源, 当电脑其他进程占用资源时, 就会发生跳帧的现象.</p>
<p>不用太过担心, 因为我们的<code>update</code>会根据上次调用<code>update</code>以来经过的时间来&quot;更新&quot;游戏.</p>
<p><strong>但是它很重要.</strong></p>
<p>问题出现在我们的动画上面. 小飞蝇的动画仅会循环2个帧, 并带有以下代码:</p>
<pre tabindex="0"><code>// flap the wings
flyingSpriteIndex += 30 * t;
if (flyingSpriteIndex &gt;= 2) {
  flyingSpriteIndex -= 2;
}
</code></pre>


  <blockquote>
    <p>💡 快速回顾: 我们希望每秒拍打<code>15</code>此翅膀, 再乘以帧数(2个帧)得到30.</p>
  </blockquote>

<p>此值乘以自上次调用更新到现在的间隔时间(秒为单位)理想的情况是<code>0.0166</code>或<code>1/60</code>(60FPS)</p>
<p>理想条件下, 最终值始终为<code>0.5</code>. 此值添加到<code>flyingSpriteIndex</code>变量. 最后, 我们检查变量的值是否大于<code>2</code>, 若大于<code>2</code>, 则从该值中减<code>2</code>, 将其重置为<code>0</code>.</p>
<p>渲染时, 我们使用以下代码获取sprite的正确动画帧索引:</p>
<pre tabindex="0"><code>flyingSpriteIndex.toInt()
</code></pre><p>当CPU没有为游戏提供足够的周期时, 就会出现问题. 这会导致跳帧, 并且变量<code>t</code>(上次运行<code>update</code>以来的间隔时间)会变大.</p>
<p>假设某帧在半秒内没有经过处理. <code>t</code>的值就会变为<code>0.5</code>(半秒).</p>
<p>假设从0开始, 该行<code>flyingSpriteIndex += 30 * t;</code>的<code>flyingSpriteIndex</code>的值将等于15(30 * 0.5).</p>
<p>接下来, 判断该值是否大于2. 因此我们减去2, 等于13.</p>
<p>在<code>render</code>函数中, 将执行<code>flyingSpriteIndex.toInt()</code>并返回值<code>13</code>(<code>(13).toInt()</code>仍等于13).</p>
<p>这种情况下, <code>flyingSprite[flyingSpriteIndex.toInt()].renderRect(...);</code>实际上等于<code>flyingSprite[13].renderRect(...);</code>.</p>
<p>我们只有两个帧(<code>0</code>和<code>1</code>), 没有第<code>13</code>!</p>
<p>这样就会报错<code>RangeError</code>, 使之前的渲染调用失效, 并使屏幕闪烁. 在游戏上线正式版之前, 这个可不是什么好bug.</p>
<p>来看看这部分的Debug控制台报错截图:</p>
<p><img src="images/06-3.png" alt=""></p>
<p>要解决此问题, 我们需要不仅仅检查一次该值是否移除, 我们必须始终判断每次运行<code>update</code>都是在一个大帧后.</p>
<p>仍然在<code>./lib/components/fly.dart</code>中, 让我们将&quot;拍打翅膀&quot;块:</p>
<pre tabindex="0"><code>// 拍打翅膀
flyingSpriteIndex += 30 * t;
if (flyingSpriteIndex &gt;= 2) {
  flyingSpriteIndex -= 2;
}
</code></pre><p>改为以下内容:</p>
<pre tabindex="0"><code>// 拍打翅膀
flyingSpriteIndex += 30 * t;
while (flyingSpriteIndex &gt;= 2) {
  flyingSpriteIndex -= 2;
}
</code></pre>


  <blockquote>
    <p>💡 代码解析: 我们只是把<code>if</code>块替换为了<code>while</code>块. 如第一章所述, 教程假定你已经是一名开发者. 这里不会赘述<code>while</code>的用法.</p>
  </blockquote>

<p>它会进行判断, 若条件为<code>true</code>, 将会继续循环方法体. 方法体执行完成后, 再次判断; 若仍然为<code>true</code>将继续重新执行.</p>
<p>只要条件返回<code>true</code>, 就会反复的执行此操作. 因此, 若发生跳帧并在<code>flyingSpriteIndex</code>中最终得到一个较大的值(比如15), 则<code>while</code>循环将反复执行, 直到<code>flyingSpriteIndex</code>不再大于2.</p>
<p>在第一次循环中, <code>15</code>变为<code>13</code>, 然后<code>13</code>变为<code>11</code>不断重复直到值变为<code>1</code>. 变成<code>1</code>后将不再继续执行.</p>
<p>至此, 这个Bug也终于解决了!</p>
<h4 id="飞行区域限制">飞行区域限制</h4>
<p>想象一下这样的场景: 你是一个玩家, 并且即将打破全球纪录7331分🤩. 屏幕上一片混乱, 小飞蝇漫天飞舞.</p>
<p>有一只口水蝇🤤懒洋洋的停留在屏幕的左上角, 在声音控制按钮下面, 他的数字降到了<code>1</code>.</p>
<p>它慢慢的向下移动时, 你点击它. 但一切都太迟了, 它发出了嘲笑的声音, 你以7329分输掉了比赛. 这一切都是因为按钮挡住了你😭😭😭😭.</p>
<p><strong>我们来搞定它!</strong></p>
<p>我们可以通过限制小飞蝇可以飞行的范围来避免这种情况.</p>
<p>声音控制按钮的高度为<code>1</code>个区块, 并且距离屏幕顶部边缘<code>1/4</code>块. 如果在底部再添加<code>1/4</code>格作为边距, 总计为<code>1.5</code>块.</p>
<p>屏幕顶部的1.5个区块应该设为禁飞区.</p>
<p>有两个地方可以控制小飞蝇的飞行区域. 一个地方是在生成小飞蝇时(<code>./lib/langaw-game.dart</code>的<code>spawnFly</code>), 第二个是小飞蝇选择随机目标时(<code>./lib/components/fly.dart</code>的<code>setTargetLocation</code>).</p>
<p>首先来处理<code>spawnFly</code>函数. 打开<code>./lib/langaw-game.dart</code>, 替换:</p>
<pre tabindex="0"><code>double x = rnd.nextDouble() * (screenSize.width - (tileSize * 2.025));
double y = rnd.nextDouble() * (screenSize.height - (tileSize * 2.025));
</code></pre><p>为:</p>
<pre tabindex="0"><code>double x = rnd.nextDouble() * (screenSize.width - (tileSize * 1.35));
double y = (rnd.nextDouble() * (screenSize.height - (tileSize * 2.85))) + (tileSize * 1.5);
</code></pre>


  <blockquote>
    <p>💡 代码解析: 我们从屏幕的宽度和高度的右边缘和底部边缘分别减去的值改为<code>1.35</code>, 因为在修复上面的尺寸bug时, 最大的小飞蝇现在只有<code>1.35</code>个区块宽.</p>
<p>然后, 我们从屏幕高度(现在为<code>2.85</code>)减去现在的值加上<code>1.5</code>(音效按钮高度). 这样就可以限制小飞蝇在距离屏幕底部<code>1.5</code>块的区域内飞行.</p>
<p>但是我们想从顶部限制它们而不是底部. 向下计算可飞行的范围, 我们把最终值加上<code>1.5</code>个区块.</p>
  </blockquote>

<p>我们只需要将此变更复制到<code>setTargetLoacation</code>就可以修复这个bug啦.</p>
<p>打开<code>./lib/components/fly.dart</code>, 在<code>setTargetLocation()</code>中, 替换定义<code>x</code>和<code>y</code>的两行:</p>
<pre tabindex="0"><code>double x = game.rnd.nextDouble() * (game.screenSize.width - (game.tileSize * 2.025));
double y = game.rnd.nextDouble() * (game.screenSize.height - (game.tileSize * 2.025));
</code></pre><p>为:</p>
<pre tabindex="0"><code>double x = game.rnd.nextDouble() * (game.screenSize.width - (game.tileSize * 1.35));
double y = (game.rnd.nextDouble() * (game.screenSize.height - (game.tileSize * 2.85))) + (game.tileSize * 1.5);
</code></pre><p>至此, 我们已经解决了所有已知的Bug!</p>
<p><strong>👉在<a href="https://github.com/HarrisonQi/flame-tutorial-langaw/tree/a565d40637aecc3dc19df6c7d750ea4b37380cb3" target="_blank">Github</a>
或<a href="https://github.com/HarrisonQi/flame-tutorial-langaw/tree/a565d40637aecc3dc19df6c7d750ea4b37380cb3" target="_blank">码云</a>
上查看这部分的代码.</strong></p>
<h3 id="第二步-安卓打包信息">第二步: 安卓打包信息</h3>
<p>对于这一步和下一步, 其实你可以直接参照<a href="https://flutterchina.club/android-release/" target="_blank">官方文档</a>
进行操作.</p>
<p>但是本系列教程面向的是初学者, 所以这里直接进行实际操作.</p>



  <blockquote>
    <p>🟡 注意: 本系列教程只会针对Android的发布构建, 若需要为IOS发布构建, 请查看这篇<a href="https://flutterchina.club/ios-release/" target="_blank">官方教程</a>
</p>
  </blockquote>

<h4 id="app-label-应用标签">App label (应用标签)</h4>
<p>在正式发布我们的游戏之前, 我们必须确保它的品牌是正确的.</p>
<p>它还必须拥有自己的名称和唯一的应用程序ID(在我们的程序中, 也可以称为Java包名).</p>
<p>现在游戏的图标是这个样子的:</p>
<p><img src="images/07-3.png" alt=""></p>
<p>打开manifest(清单文件)并首先处理label(标签). 此标签是在手机上安装我们的游戏后, 在手机APP列表中显示的名称.</p>
<p>Android的manifest文件在<code>./android/app/src/main/AndroidManifest.xml</code>.</p>
<p>若要改变标签, 找到这一行:</p>
<pre tabindex="0"><code>android:label=&#34;&#34;
</code></pre><p>然后我们改为我们的游戏名字<code>Langaw</code>:</p>
<pre tabindex="0"><code>android:label=&#34;Langaw&#34;
</code></pre><h4 id="application-id应用程序id">Application ID(应用程序ID)</h4>
<p>接下来, 我们必须给我们的游戏一个唯一的应用程序ID. 这非常重要, 因为Android系统将通过这个把我们的APP和其他APP区分开来.</p>
<p><a href="https://developer.android.com/studio/build/application-id.html" target="_blank">点击此处了解更多应用程序ID的规则信息</a>
.</p>
<p>根据Java软件包的命名规范, 为避免冲突, 程序员通过使用其所在公司的域名反写来开始对其软件包进行命名.</p>
<p>如果您是独立开发者, 从事的是个人项目, 可以使用个人博客的域名反写(比如阿航的<code>com.bugcatt</code>).</p>



  <blockquote>
    <p>🔴 注意: 你一定要使用自己的域名! 如果你还没有域名, 则可以使用全名, 比如(zhangsanfeng.langaw).</p>
  </blockquote>

<p>有几个地方都需要改变应用程序ID, 且需要进行一些目录重组.</p>
<p>首先, 我们来修改Android manifest(<code>./android/app/src/main/AndroidManifest.xml</code>).</p>
<p>在文件的顶部(<code>manifest</code>标签内), 找到类似于这样的代码:</p>
<pre tabindex="0"><code>package=&#34;com.example.langaw&#34;
</code></pre><p>在这里改为你自己的域名, 阿航这里使用<code>com.bugcatt.langaw</code>:</p>
<pre tabindex="0"><code>package=&#34;games.alekhin.langaw&#34;
</code></pre><p>打开debug清单文件<code>./android/app/src/debug/AndroidManifest.xml</code>, 做同样的操作.</p>
<p>下一步, 我们需要打开<code>./android/app/build.gradle</code>找到<code>android</code>选项, 找到类似这样的代码:</p>
<pre tabindex="0"><code>    defaultConfig {
        applicationId &#34;com.example.langaw&#34;
        minSdkVersion 16
        targetSdkVersion 28
        versionCode flutterVersionCode.toInteger()
        versionName flutterVersionName
        testInstrumentationRunner &#34;android.support.test.runner.AndroidJUnitRunner&#34;
    }
</code></pre><p>修改<code>applicationId</code>的值为你自己的域名, 比如:</p>
<pre tabindex="0"><code>    defaultConfig {
        applicationId &#34;com.bugcatt.langaw&#34;
        minSdkVersion 16
        targetSdkVersion 28
        versionCode flutterVersionCode.toInteger()
        versionName flutterVersionName
        testInstrumentationRunner &#34;androidx.test.runner.AndroidJUnitRunner&#34;
    }
</code></pre><p>另一个地方就是在main activity文件(<code>./android/app/src/main/java/com/example/langaw/MainActivity.java</code>)中修改package名称为:</p>
<pre tabindex="0"><code>package com.bugcatt.langaw
</code></pre>


  <blockquote>
    <p>🟡 提示: 若你为你的项目增加了kotlin支持, 那么main activity文件的路径为<code>./android/app/src/main/kotlin/com/example/langaw/MainActivity.kt</code></p>
  </blockquote>

<p>如你所见, main activity文件位于与包名匹配的目录中, 为了使Java/Kotlin应用程序(我们的游戏会编译到其中)正常运行, 此目录结构必须与软件包名称匹配.</p>
<p>最终我们只需要重命名这些目录, 以便他们与程序包名称匹配, 并且main activity文件现在将位于(<code>./android/app/src/main/java/com/bugcatt/langaw/MainActivity.java</code>), 如图:</p>
<p><img src="images/08-1.png" alt=""></p>
<h4 id="app启动图标">APP启动图标</h4>
<p>最终, 也是最重要的信息. 当涉及到品牌(或具有辨识度)的就是APP启动图标.</p>
<p>这也是在手机上应用程序列表中显示的图标.</p>
<p>你可以遵循这个<a href="https://material.io/design/iconography/product-icons.html#design-principles" target="_blank">启动器图标设计规范</a>
. 但是我们的教程将使用我们自己的图片.</p>
<p>自由的选择自己的图标, 只要他们的尺寸符合以下大小:</p>
<ul>
<li><code>48 x 48</code> (mdpi)</li>
<li><code>72 x 72</code> (hdpi)</li>
<li><code>96 x 96</code> (xhdpi)</li>
<li><code>144 x 144</code> (xxhdpi)</li>
<li><code>192 x 192</code> (xxxhdpi)</li>
</ul>
<p>由于我们将使用资源包中的图标, 因此我们可以很轻松、安全的将<code>android</code>目录从资源包中复制到项目的根目录中(<code>./</code>).</p>
<p>复制启动图标后, 以下文件应该被修改:</p>
<pre tabindex="0"><code>./android/app/src/main/res/mipmap-hdpi/ic_launcher.png
./android/app/src/main/res/mipmap-mdpi/ic_launcher.png
./android/app/src/main/res/mipmap-xhdpi/ic_launcher.png
./android/app/src/main/res/mipmap-xxhdpi/ic_launcher.png
./android/app/src/main/res/mipmap-xxxhdpi/ic_launcher.png
</code></pre><p>🟢 重新运行游戏(先停止再运行), 你会发现游戏图标变更了:</p>
<p><img src="images/09-1.png" alt=""></p>
<p>不同的设备可能以不同的方式显示图标(比如边框、背景色等, 和你的手机系统、主题相关), 但是始终会显示我们设置的图标.</p>
<p><strong>👉在<a href="https://github.com/HarrisonQi/flame-tutorial-langaw/tree/39d60a0d91d71a9880b496b69e6bb5ee78eaf3bd" target="_blank">Github</a>
或<a href="https://github.com/HarrisonQi/flame-tutorial-langaw/tree/39d60a0d91d71a9880b496b69e6bb5ee78eaf3bd" target="_blank">码云</a>
上查看这部分的代码.</strong></p>
<h3 id="第三步-准备发布">第三步: 准备发布</h3>
<p>发布游戏之前, 还有一些活要去干. 首先我们需要创建一个签名证书, 在构建APK时, 需要通过该证书进行签名.</p>
<h4 id="构建证书-生成签名">构建证书, 生成签名</h4>
<p>要创建密钥存储, 需要输入以下命令至终端(CMD):</p>
<pre tabindex="0"><code>keytool -genkey -v -keystore ~/key.jks -keyalg RSA -keysize 2048 -validity 36500 -alias key
</code></pre>


  <blockquote>
    <p>如果你没有配置环境变量, 直接向下看, 有相应的解决方案!</p>
  </blockquote>

<p>该工具将询问一些将记录在证书的信息, 比如你的全名、 公司详细信息以及地址.</p>
<p>回答所有问题后, keytool应该在当前登录用户的主目录中创建一个名为<code>key.jks</code>的密钥存储文件.</p>



  <blockquote>
    <p>🔴 注意: 该文件必须保密! 最好将其保存在项目目录之外, 且可以进行安全备份.</p>
<p>如果你对项目使用了版本管理, 并且不能保留在项目目录外边. 那么请把这个文件从版本控制中移除(如<code>.gitignore</code>)</p>
  </blockquote>

<p><code>keytool</code>可能未在环境变量中添加, 若想找到它, 可在<a href="https://flutter.dev/docs/deployment/android#create-a-keystore" target="_blank">Flutter官方教程中&quot;创建密钥库&quot;的说明进行操作(英文)</a>
.</p>
<p>阿航的电脑是Win10, 不配置环境变量, 运行的实际命令是:</p>
<pre tabindex="0"><code>&#34;C:\Program Files\Java\jre1.8.0_241\bin\keytool&#34; -genkey -v -keystore D:\key.jks -keyalg RSA -keysize 2048 -validity 36500 -alias key
</code></pre><p>下一步是在我们的项目中创建一个文件, 该文件将指向我们的密钥库. 创建文件<code>./android/key.properties</code>, 文件内容:</p>
<pre tabindex="0"><code>storePassword=PASSWORDHERE
keyPassword=PASSWORDHERE
keyAlias=key
storeFile=D:\\key.jks
</code></pre><p>将<code>PASSWORDHERE</code>替换为你在创建密钥库时输入的实际密码. <code>storeFile</code>的值也替换为密钥存储文件的实际路径.</p>
<p>🔴 注意: 由于此文件包含密钥存储和证书的密码, 尽可能将此文件保密. 不要把该文件加入到代码管理仓库中!</p>
<p>最后跳回到<code>./android/app/build.gradle</code>文件. 在<code>android</code>选项前, 加载我们刚刚创建的<code>key.properties</code>.</p>
<p>在<code>android {</code>上方添加代码:</p>
<pre tabindex="0"><code>def keystoreProperties = new Properties()
def keystorePropertiesFile = rootProject.file(&#39;key.properties&#39;)
if (keystorePropertiesFile.exists()) {
    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))
}
</code></pre><p>上面的代码只是Gradle构建配置的一部分, 不在本系列教程的范围内. 现在只需将代码复制粘贴到正确的位置, 并确保<code>key.properties</code>已被创建(参见上文).</p>
<p><img src="images/10.png" alt=""></p>
<p>此后, 进入<code>android</code>选项, 在<code>buildTypes</code>上方添加以下代码:</p>
<pre tabindex="0"><code>    signingConfigs {
        release {
            keyAlias keystoreProperties[&#39;keyAlias&#39;]
            keyPassword keystoreProperties[&#39;keyPassword&#39;]
            storeFile file(keystoreProperties[&#39;storeFile&#39;])
            storePassword keystoreProperties[&#39;storePassword&#39;]
        }
    }
</code></pre><p>然后替换掉整个<code>buildTypes</code>块为:</p>
<pre tabindex="0"><code>buildTypes {
    release {
        signingConfig signingConfigs.release
    }
}
</code></pre><p><img src="images/11.png" alt=""></p>
<hr>
<p><strong>恭喜!<br>
这意味着我们的开发任务全部竣工! 这是本教程中最后一次修改源代码. 我们已经完整的开发完成了一款游戏.</strong></p>
<hr>
<p><strong>👉在<a href="https://github.com/HarrisonQi/flame-tutorial-langaw/tree/8f11403d788d4f39a06b733130224cd47ce8fd0b" target="_blank">Github</a>
或<a href="https://github.com/HarrisonQi/flame-tutorial-langaw/tree/8f11403d788d4f39a06b733130224cd47ce8fd0b" target="_blank">码云</a>
上查看这部分的代码.</strong></p>
<h4 id="构建apk">构建APK</h4>
<p>让我们现在来构建正式版APK, 以便你可以将其上传到Google Play等各大应用商店.</p>
<p>APK(Android Package)的缩写, 是Android的应用程序包格式. 我们的游戏需要放在APK中.</p>
<p>要让Google Play等商店接受APK, 必须对其进行签名. 哈哈, 我们已经完成并进行了相应配置.</p>
<p>发布正式版意味着该APP不再会与热重载等功能通信, 并且debug代码将不会放在APP上. 它的存储空间会尽可能的小, 并且安装到手机上也很方便.</p>
<p>想要生成一个正式版APK, 只需要进入项目目录()<code>./</code>, 打开终端输入:</p>
<pre tabindex="0"><code>flutter build apk
</code></pre><p>等待一会儿, 会出现类似下面的信息:</p>
<pre tabindex="0"><code>flutter build apk
Initializing gradle...                                              1.2s
Resolving dependencies...                                           2.4s
Running Gradle task &#39;assembleRelease&#39;...
Running Gradle task &#39;assembleRelease&#39;... Done                      11.2s
Built build\app\outputs\apk\release\app-release.apk (14.4MB).
</code></pre><p>这样, 你就可以去<code>./build/app/outputs/apk/release/app-release.apk</code>找到我们打包成功的APK.</p>
<h3 id="发布我们的游戏">发布我们的游戏</h3>
<p>因为国内各大厂商的应用商店规则不统一, 这里仅给大家提供一些建议:</p>
<table>
  <thead>
      <tr>
          <th>主流安卓应用商店</th>
          <th>优点</th>
          <th>缺点</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Google Play</td>
          <td>1. 安卓的官方应用商店. 最大、最强的安卓应用商店, 没有之一.</td>
          <td></td>
      </tr>
      <tr>
          <td>2. 不需要窥探你的隐私信息, 保护开发者.</td>
          <td></td>
          <td></td>
      </tr>
      <tr>
          <td>3. 上线超快, 不从开发者那里牟利.</td>
          <td></td>
          <td></td>
      </tr>
      <tr>
          <td>4. 自由: 你可以上传任意内容的APP.</td>
          <td></td>
          <td></td>
      </tr>
      <tr>
          <td>5. 平等: 不需要花钱买什么&quot;官方&quot;标识等.</td>
          <td></td>
          <td></td>
      </tr>
      <tr>
          <td>6. 可以上传收费的APP.</td>
          <td></td>
          <td></td>
      </tr>
      <tr>
          <td>7. 下载统计、APP分析等一步到位.</td>
          <td>1. 大陆普通网络无法连接.</td>
          <td></td>
      </tr>
      <tr>
          <td>2. 需要收取25美刀的入场费(没有二次消费).</td>
          <td></td>
          <td></td>
      </tr>
      <tr>
          <td>3. 优秀的APP过多, 新手开发者可能前期无法获得过多下载量</td>
          <td></td>
          <td></td>
      </tr>
      <tr>
          <td>华为应用市场</td>
          <td>1. 华为也许是目前国内最大的安卓群体, 用户量较大.</td>
          <td></td>
      </tr>
      <tr>
          <td>2. 免费加入.</td>
          <td></td>
          <td></td>
      </tr>
      <tr>
          <td>3. APP大多质量较好.</td>
          <td></td>
          <td></td>
      </tr>
      <tr>
          <td>4. 国家政策, 某些主题的APP不可以上传.</td>
          <td></td>
          <td></td>
      </tr>
      <tr>
          <td>5. 注册不需要繁琐的步骤.</td>
          <td>1. 因为APP质量较好, 审核也相当严格.</td>
          <td></td>
      </tr>
      <tr>
          <td></td>
          <td></td>
          <td></td>
      </tr>
      <tr>
          <td>小米应用商店</td>
          <td>除第1条外, 其他同上</td>
          <td></td>
      </tr>
      <tr>
          <td>腾讯开放平台(应用宝)</td>
          <td>1. 腾讯旗下, 可在微信上方便分享下载.</td>
          <td></td>
      </tr>
      <tr>
          <td>2. 因为各种腾讯政策(如腾讯王卡、各种游戏奖励)用户量大.</td>
          <td>1. 牵扯到利益, 需要上传著作权等信息(非常非常麻烦, 花钱待办也相当贵)</td>
          <td></td>
      </tr>
      <tr>
          <td>2. APP过多, 鱼龙混杂.</td>
          <td></td>
          <td></td>
      </tr>
      <tr>
          <td>阿里应用分发开放平台(豌豆荚、91助手等等)</td>
          <td>一次上传, 多个平台同时发布.</td>
          <td>同上</td>
      </tr>
  </tbody>
</table>
<h2 id="感谢">感谢</h2>
<ul>
<li>本篇文章参考原作<a href="https://jap.alekhin.io/game-finishing-packaging-tutorial-flame-flutter-part-5" target="_blank">《Game Finishing and Packaging Tutorial – Step by Step with Flame and Flutter (Part 5 of 5)》</a>
.</li>
<li>flame <a href="https://github.com/flame-engine/flame" target="_blank">github仓库地址</a>
</li>
<li>pub.dev <a href="https://pub.flutter-io.cn/packages/flame" target="_blank">官方网址</a>
</li>
</ul>
<h2 id="结语">结语</h2>
<p>非常高兴你能来到这里! 在本系列教程中, 我们从0开始构建了一个游戏. 从Flutter项目创建到打包发布.</p>
<p>我希望你能喜欢本系列的教程.</p>
<p>即使有着参照的官方文档, 阿航写这部分教程也整整超过了一个月. 因为我真的不是很擅长翻译工作😭, 并且非常讨厌英语(这和我是程序员的身份格格不入不是吗🤣🤣). 翻译并不是简简单单的拿着Google翻译或者百度翻译复制粘贴. 很多时候, 外国人的梗拿到中国, 大家听不懂, 甚至会很懵逼. 我会尽量这些语言的差异转为国人愿意理解的意思来进行转换. 原文中也有多次的代码错误, 阿航也只能含泪踏坑前行, 力求给大家一个完整的开发体验. 也希望你能常常光顾我的网站, 我会尽心尽力发布各种技术干货. 如果你愿意, 我们也可以合作, 一起上传高质量博客.</p>
<p>谢谢🧡.</p>
<p>如果你出现了不懂的地方, 不要犹豫, 欢迎在评论区留言! 也欢迎加入<a href="https://jq.qq.com/?_wv=1027&amp;k=5ETLFm3" target="_blank">我的Flame交流群(QQ)</a>
, 进行实时沟通.</p>
<h2 id="下一步会干什么">下一步会干什么</h2>
<p>下一步, 到了你做决定的时候了.</p>
<p><strong>挑战自己, 制作一个属于自己的游戏.</strong></p>
<p>游戏质量和原创与否并不重要, 重要的是你掌握了开发游戏的诀窍. 当你精通了游戏开发, 也许哪一天你会找到一个很好的团队, 开发出像&quot;超级玛丽&rdquo;、&ldquo;侠盗猎车&quot;等永垂不朽的游戏.</p>
<p>至于阿航, 会继续在全栈开发领域上奋斗. 不断的发表技术博客, 为广大开发者铺好路.</p>


        
      </section>

      

      
    </article>
  </div>

  <div class="hidden lg:flex lg:flex-col lg:items-end">
    
  </div>
</div>


            
<footer class="flex justify-between items-center gap-2 px-4 py-12">

  <div>
  
  <p>© 2025 阿航的技术小站</p>
  

  
  <p class="text-sm">
    🌱
    <span class="text-base-content/60">
      Powered by <a class="hover:underline" href="https://gohugo.io/" target="_blank">Hugo</a> with theme
      <a class="hover:underline" href="https://github.com/g1eny0ung/hugo-theme-dream" target="_blank">Dream</a>.</span
    >
  </p>
  
</div>

  <div
  x-data="{ icons: [
    { name: 'sunny', status: 'n' },
    { name: 'moon', status: 'y' },
    { name: 'desktop', status: 'auto' }
  ] }"
  class="flex items-center gap-2 h-[32px] px-2 bg-base-100 border border-base-content/30 rounded-full"
>
  <template x-for="icon in icons">
    <div
      role="button"
      tabindex="0"
      :aria-label="'Select ' + icon.name + ' mode'"
      class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary"
      :class="$store.darkMode.icon() === icon.name && 'bg-primary'"
      @click="$store.darkMode.toggle(icon.status)"
    >
      <ion-icon
        :name="`${icon.name}-outline`"
        class="group-hover:text-primary-content"
        :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"
      >
      </ion-icon>
    </div>
  </template>
</div>

</footer>

          </div>
        </div>
        <div class="back">
          <div class="container">
            
            <div class="dream-grid dream-grid-about">
  

  

  
</div>

            

            
<footer class="flex justify-between items-center gap-2 px-4 py-12">

  <div>
  
  <p>© 2025 阿航的技术小站</p>
  

  
  <p class="text-sm">
    🌱
    <span class="text-base-content/60">
      Powered by <a class="hover:underline" href="https://gohugo.io/" target="_blank">Hugo</a> with theme
      <a class="hover:underline" href="https://github.com/g1eny0ung/hugo-theme-dream" target="_blank">Dream</a>.</span
    >
  </p>
  
</div>

  <div
  x-data="{ icons: [
    { name: 'sunny', status: 'n' },
    { name: 'moon', status: 'y' },
    { name: 'desktop', status: 'auto' }
  ] }"
  class="flex items-center gap-2 h-[32px] px-2 bg-base-100 border border-base-content/30 rounded-full"
>
  <template x-for="icon in icons">
    <div
      role="button"
      tabindex="0"
      :aria-label="'Select ' + icon.name + ' mode'"
      class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary"
      :class="$store.darkMode.icon() === icon.name && 'bg-primary'"
      @click="$store.darkMode.toggle(icon.status)"
    >
      <ion-icon
        :name="`${icon.name}-outline`"
        class="group-hover:text-primary-content"
        :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"
      >
      </ion-icon>
    </div>
  </template>
</div>

</footer>

          </div>
        </div>
      </div>
    </div>

    <script>
  window.lightTheme =  null 
  window.darkTheme =  null 
</script>


  <script src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>

  
  
  <script src="/js/grid.js"></script>




<script src="/js/main.js"></script>

    









    

    

    

    

    <script type="module" src="https://unpkg.com/ionicons@7.4.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.4.0/dist/ionicons/ionicons.js"></script>
  </body>
</html>

<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Mysql on 阿航的技术小站</title>
    <link>http://localhost:1313/tags/mysql/</link>
    <description>Recent content in Mysql on 阿航的技术小站</description>
    <generator>Hugo</generator>
    <language>zh-CN</language>
    <lastBuildDate>Sat, 24 Oct 2020 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/mysql/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>MySQL教程 01 什么是MySQL</title>
      <link>http://localhost:1313/posts/post/2020/mysql%E6%95%99%E7%A8%8B-01-%E4%BB%80%E4%B9%88%E6%98%AFmysql/</link>
      <pubDate>Sat, 24 Oct 2020 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/posts/post/2020/mysql%E6%95%99%E7%A8%8B-01-%E4%BB%80%E4%B9%88%E6%98%AFmysql/</guid>
      <description>&lt;!-- raw HTML omitted --&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://www.bilibili.com/video/BV1eT4y1F7cp/&#34; target=&#34;_blank&#34;&gt;点击进入bilibili查看高清教程&lt;/a&gt;&#xA;&lt;/p&gt;</description>
    </item>
    <item>
      <title>MySql根据生日计算年龄</title>
      <link>http://localhost:1313/posts/post/2020/mysql%E6%A0%B9%E6%8D%AE%E7%94%9F%E6%97%A5%E8%AE%A1%E7%AE%97%E5%B9%B4%E9%BE%84/</link>
      <pubDate>Sat, 24 Oct 2020 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/posts/post/2020/mysql%E6%A0%B9%E6%8D%AE%E7%94%9F%E6%97%A5%E8%AE%A1%E7%AE%97%E5%B9%B4%E9%BE%84/</guid>
      <description>&lt;p&gt;这次的需求是需要通过出生日期（年月日）来计算年龄。一句SQL就可以搞定:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;`SELECT TIMESTAMPDIFF(YEAR, &#39;2000-01-01&#39;, CURDATE());`&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;如果格式是 年-月-日 ，那就使用&lt;code&gt;CONCAT&lt;/code&gt;拼接起来，这么写：&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;`SELECT TIMESTAMPDIFF(YEAR, CONCAT(2000, &#39;-&#39;, 1, &#39;-&#39;, 1), CURDATE());`&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;如果你遇到了更好的解法，欢迎在下方留言哟！&lt;/p&gt;</description>
    </item>
    <item>
      <title>Access denied for user</title>
      <link>http://localhost:1313/posts/post/2020/access-denied-for-user/</link>
      <pubDate>Mon, 03 Aug 2020 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/posts/post/2020/access-denied-for-user/</guid>
      <description>&lt;p&gt;在开发的过程中坎坷不断。今天在Spring Boot中碰到了这个异常：&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;`Caused by: com.mysql.cj.exceptions.CJException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)`&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;本篇文章就来记录下可能的情况以及解决方案。&lt;/p&gt;&#xA;&lt;h2 id=&#34;问题原因&#34;&gt;问题原因&lt;/h2&gt;&#xA;&lt;p&gt;问题的根源就在数据库登陆上。肯定是账号和密码有误，所以我们要仔细检查配置文件，有以下几个地方容易出错：&lt;/p&gt;&#xA;&lt;h3 id=&#34;情况一检查配置文件是否包含空格&#34;&gt;情况一：检查配置文件是否包含空格&lt;/h3&gt;&#xA;&lt;p&gt;因为application.yml似乎并不会给我们的配置文件进行去空格处理，所以我们来仔细检查。配置文件人模人样的，看起来没啥问题：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;images/Access-denied-for-user-01.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;结果一选中：&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;images/Access-denied-for-user-02.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;呵！其实不然。所以一定要&lt;strong&gt;去除多余的空格&lt;/strong&gt;！&lt;/p&gt;&#xA;&lt;h3 id=&#34;情况二检查username和password值是否写反&#34;&gt;情况二：检查username和password值是否写反&lt;/h3&gt;&#xA;&lt;p&gt;因为26个字母中&lt;code&gt;u&lt;/code&gt;在&lt;code&gt;p&lt;/code&gt;的后面，所以默认的yml排序中&lt;code&gt;username&lt;/code&gt;会在&lt;code&gt;password&lt;/code&gt;下面。阿航就是踩了这个坑！以为用户名在上方，导致写反！&lt;/p&gt;&#xA;&lt;h3 id=&#34;情况三检查ip是否正确&#34;&gt;情况三：检查IP是否正确&lt;/h3&gt;&#xA;&lt;p&gt;如果确定账户密码正确，我们就来看看IP是否有误吧。&lt;/p&gt;&#xA;&lt;p&gt;在数据库中输入以下SQL进行查询（这里以MySQL为例）：&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;` SELECT &#x9;CONCAT( USER, &#39;@&#39;, HOST ) Result FROM &#x9;mysql.USER;`&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;查看返回结果是否包含你的报错。如果不包含就说明你的IP未被创建。&lt;/p&gt;&#xA;&lt;h3 id=&#34;情况四检查数据库服务器配置&#34;&gt;情况四：检查数据库服务器配置&lt;/h3&gt;&#xA;&lt;p&gt;使用其他的软件连接你的数据库（如Navicat），使用相同的用户名和密码看看能否登陆。如果不能登陆则是数据库层的问题，与代码无关了。&lt;/p&gt;&#xA;&lt;h2 id=&#34;结语&#34;&gt;结语&lt;/h2&gt;&#xA;&lt;p&gt;总之，解决方案就是细心。。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Mybatis-Plus 查询获取数据集最大值(Max())</title>
      <link>http://localhost:1313/posts/post/2020/mybatis-plus-%E6%9F%A5%E8%AF%A2%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%E9%9B%86%E6%9C%80%E5%A4%A7%E5%80%BCmax/</link>
      <pubDate>Fri, 24 Jul 2020 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/posts/post/2020/mybatis-plus-%E6%9F%A5%E8%AF%A2%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%E9%9B%86%E6%9C%80%E5%A4%A7%E5%80%BCmax/</guid>
      <description>&lt;p&gt;在使用Mybatis-Plus框架进行查询时, 碰到了需要查询最大值的情况. 但是截止本文章撰写前, Mybatis-Plus并没有提供直接的查询数据最大值的函数. 本篇文章就来记录下如何实现.&lt;/p&gt;&#xA;&lt;h2 id=&#34;前置条件&#34;&gt;前置条件&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;掌握Spring框架&lt;/li&gt;&#xA;&lt;li&gt;掌握Mybatis&lt;/li&gt;&#xA;&lt;li&gt;掌握Mybatis-Plus的基本使用&lt;/li&gt;&#xA;&lt;li&gt;掌握SQL语句&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;实战开始&#34;&gt;实战开始&lt;/h2&gt;&#xA;&lt;p&gt;我们进行普通查询的时候, 需要用到以下语句:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;`xxxMapper.selectOne(QueryWrapper(...));`&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;我们只需要分别添加排序(&lt;code&gt;orderByDesc&lt;/code&gt;)和取第1个(&lt;code&gt;limit 1&lt;/code&gt;)就可拿到最大值:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;`xxxMapper.selectOne(QueryWrapper(...).orderByDesc(&amp;quot;排序字段名&amp;quot;).last(&amp;quot;limit 1&amp;quot;));`&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;拿到最小值只需改为正序排列:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;`xxxMapper.selectOne(QueryWrapper(...).orderByAsc(&amp;quot;排序字段名&amp;quot;).last(&amp;quot;limit 1&amp;quot;));`&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;搞定.&lt;/p&gt;&#xA;&lt;h2 id=&#34;结语&#34;&gt;结语&lt;/h2&gt;&#xA;&lt;p&gt;本文的方法虽然实现了我们的目标. 但是&lt;strong&gt;仅为代码美观&lt;/strong&gt;. 实际上这样的查询效率可能不高. 生产环境的项目慎用.&lt;/p&gt;</description>
    </item>
    <item>
      <title>MySQL多条记录/结果合并为一行,并转换为JSON</title>
      <link>http://localhost:1313/posts/post/2020/mysql%E5%A4%9A%E6%9D%A1%E8%AE%B0%E5%BD%95-%E7%BB%93%E6%9E%9C%E5%90%88%E5%B9%B6%E4%B8%BA%E4%B8%80%E8%A1%8C%E5%B9%B6%E8%BD%AC%E6%8D%A2%E4%B8%BAjson/</link>
      <pubDate>Tue, 14 Jul 2020 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/posts/post/2020/mysql%E5%A4%9A%E6%9D%A1%E8%AE%B0%E5%BD%95-%E7%BB%93%E6%9E%9C%E5%90%88%E5%B9%B6%E4%B8%BA%E4%B8%80%E8%A1%8C%E5%B9%B6%E8%BD%AC%E6%8D%A2%E4%B8%BAjson/</guid>
      <description>&lt;p&gt;我们在使用MySQL进行查询时, 我们希望把同类结果合并为一行(1个字段内). 本篇文章就来记录下如何使用MySQL将多条记录/结果合并为一行.&lt;/p&gt;&#xA;&lt;h2 id=&#34;效果&#34;&gt;效果&lt;/h2&gt;&#xA;&lt;p&gt;有图有真相, 先来看下查询的最终效果对比:&lt;/p&gt;&#xA;&lt;!-- raw HTML omitted --&gt;&#xA;&lt;p&gt;&lt;img src=&#34;images/MySQL%E5%A4%9A%E6%9D%A1%E8%AE%B0%E5%BD%95%E7%BB%93%E6%9E%9C%E5%90%88%E5%B9%B6-01.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;!-- raw HTML omitted --&gt;&#xA;&lt;p&gt;合并前&lt;/p&gt;&#xA;&lt;!-- raw HTML omitted --&gt;&#xA;&lt;!-- raw HTML omitted --&gt;&#xA;&lt;p&gt;&lt;img src=&#34;images/MySQL%E5%A4%9A%E6%9D%A1%E8%AE%B0%E5%BD%95%E7%BB%93%E6%9E%9C%E5%90%88%E5%B9%B6-03.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;!-- raw HTML omitted --&gt;&#xA;&lt;p&gt;&lt;img src=&#34;images/MySQL%E5%A4%9A%E6%9D%A1%E8%AE%B0%E5%BD%95%E7%BB%93%E6%9E%9C%E5%90%88%E5%B9%B6-02.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;!-- raw HTML omitted --&gt;&#xA;&lt;p&gt;合并后&lt;/p&gt;&#xA;&lt;!-- raw HTML omitted --&gt;&#xA;&lt;!-- raw HTML omitted --&gt;&#xA;&lt;h2 id=&#34;实战开始&#34;&gt;实战开始&lt;/h2&gt;&#xA;&lt;h3 id=&#34;创建表及填充数据&#34;&gt;创建表及填充数据&lt;/h3&gt;&#xA;&lt;p&gt;先来创建一个表. 在库中运行以下SQL命令:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;``DROP TABLE IF EXISTS `t_name`; CREATE TABLE `t_name`  (   `name` varchar(255) NOT NULL,   PRIMARY KEY (`name`) ) ; INSERT INTO `t_name` VALUES (&#39;阿航&#39;),(&#39;张三&#39;),(&#39;李四&#39;),(&#39;王五&#39;),(&#39;傻根&#39;);``&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;至此, 我们有了一个&lt;code&gt;t_name&lt;/code&gt;表了. 这个表用于存储名字.&lt;/p&gt;</description>
    </item>
    <item>
      <title>修改Docker 的 MySQL 容器时区</title>
      <link>http://localhost:1313/posts/post/2020/%E4%BF%AE%E6%94%B9docker-%E7%9A%84-mysql-%E5%AE%B9%E5%99%A8%E6%97%B6%E5%8C%BA/</link>
      <pubDate>Sun, 12 Jul 2020 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/posts/post/2020/%E4%BF%AE%E6%94%B9docker-%E7%9A%84-mysql-%E5%AE%B9%E5%99%A8%E6%97%B6%E5%8C%BA/</guid>
      <description>&lt;p&gt;阿航在开发Springboot项目时, 前端告诉验证码一直无效. 本地测试没有问题, 一看远程服务器的数据库时间, 哇塞&amp;ndash;早了8小时. 很明显, 是MySQL的时区问题. 本篇文章就来记录下如何修改Docker 的 MySQL 容器时区.&lt;/p&gt;&#xA;&lt;h2 id=&#34;解决方案&#34;&gt;解决方案&lt;/h2&gt;&#xA;&lt;p&gt;先来校验下数据库是否真的时区不对. 进入MySQL数据库, 运行语句:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;`SELECT NOW();`&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;会返回类似这样的数据:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;`mysql&amp;gt; SELECT NOW(); +---------------------+ | NOW()               | +---------------------+ | 2020-07-04 15:46:46 | +---------------------+ 1 row in set (0.09 sec)`&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;再来查询下当前时区, 输入以下命令:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;`SHOW VARIABLES LIKE &#39;%time_zone%&#39;;`&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;会返回类似这样的数据:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;`mysql&amp;gt; SHOW VARIABLES LIKE &#39;%time_zone%&#39;; +------------------+--------+ | Variable_name    | Value  | +------------------+--------+ | system_time_zone | UTC    | | time_zone        | +00:00 | +------------------+--------+ 2 rows in set (0.12 sec)`&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;如果返回的时间和你的相差多个小时, 并且时区不对(非+08:00)的话, 那么证明你需要向下看了.&lt;/p&gt;</description>
    </item>
    <item>
      <title>MySQL JOIN MIN()/MAX() 组合使用</title>
      <link>http://localhost:1313/posts/post/2020/mysql-join-min-max/</link>
      <pubDate>Tue, 09 Jun 2020 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/posts/post/2020/mysql-join-min-max/</guid>
      <description>&lt;p&gt;这次阿航在开发后端接口, 写复杂SQL查询时碰到了这个问题, 我需要将MySQL的&lt;code&gt;JOIN&lt;/code&gt;关键字和&lt;code&gt;MIN()&lt;/code&gt;同时使用. 本篇文章就来记录下&lt;code&gt;MySQL&lt;/code&gt; &lt;code&gt;JOIN&lt;/code&gt; &lt;code&gt;MIN()/MAX()&lt;/code&gt;的组合使用.&lt;/p&gt;&#xA;&lt;h2 id=&#34;应用场景&#34;&gt;应用场景&lt;/h2&gt;&#xA;&lt;p&gt;大家都有过淘宝网购的经历, 应该记得在搜索时, 出来的结果列表都是每个产品的最小价格. 点进去后, 选择不同的型号会有相应的价格.&lt;/p&gt;&#xA;&lt;p&gt;阿航碰到的是我有两个表, 一个是SPU(产品表), 一个是SKU(商品表), 它们是一对多的关系(因为一款产品会有多个型号). 我需要在查询SPU的同时, 再把对应的最便宜的SKU的价格进行返回.&lt;/p&gt;&#xA;&lt;p&gt;总结: &lt;strong&gt;一对多关联查询, 并且把多的表的最大/最小值返回.&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;实战开始&#34;&gt;实战开始&lt;/h2&gt;&#xA;&lt;p&gt;[epcl_box type=&amp;ldquo;information&amp;rdquo;]为了方便大家理解, 阿航在这里进行相应的简化[/epcl_box]&lt;/p&gt;&#xA;&lt;h3 id=&#34;数据关系&#34;&gt;数据关系&lt;/h3&gt;&#xA;&lt;p&gt;先来看下两个表的关系:&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;images/MySQL-JOIN-MINMAX-01.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;  &lt;blockquote&gt;&#xA;    &lt;p&gt;其中, 一个SPU对应多个SKU ( 比如一件衣服有多个颜色 ).&lt;/p&gt;&#xA;&lt;p&gt;💡 解析&lt;/p&gt;&#xA;  &lt;/blockquote&gt;&#xA;&#xA;&lt;h3 id=&#34;初始化数据库&#34;&gt;初始化数据库&lt;/h3&gt;&#xA;&lt;p&gt;进入数据库, 运行以下SQL语句定义并初始化数据表:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;CREATE DATABASE mysql_join_demo DEFAULT CHARACTER &#xA;SET = &amp;#39;utf8mb4&amp;#39;;&#xA;&#xA;USE mysql_join_demo;&#xA;&#xA;CREATE TABLE t_spu(&#xA;    id BIGINT NOT NULL AUTO_INCREMENT COMMENT &amp;#39;主键&amp;#39;,&#xA;    name VARCHAR(32) NOT NULL COMMENT &amp;#39;产品名&amp;#39;,&#xA;    PRIMARY KEY (id)&#xA;) COMMENT = &amp;#39;产品SPU表&amp;#39;;&#xA;&#xA;CREATE TABLE t_sku(&#xA;    id BIGINT NOT NULL AUTO_INCREMENT COMMENT &amp;#39;主键&amp;#39;,&#xA;    spu_id BIGINT NOT NULL COMMENT &amp;#39;产品ID&amp;#39;,&#xA;    spec VARCHAR(32) NOT NULL COMMENT &amp;#39;型号&amp;#39;,&#xA;    price BIGINT NOT NULL COMMENT &amp;#39;价格&amp;#39;,&#xA;    PRIMARY KEY (id)&#xA;) COMMENT = &amp;#39;商品表&amp;#39;;&#xA;&#xA;INSERT INTO `mysql_join_demo`.`t_spu`(`id`, `name`) VALUES (1, &amp;#39;联想电脑&amp;#39;);&#xA;INSERT INTO `mysql_join_demo`.`t_sku`(`id`, `spu_id`, `spec`, `price`) VALUES (1, 1, &amp;#39;低配版&amp;#39;, 5000);&#xA;INSERT INTO `mysql_join_demo`.`t_sku`(`id`, `spu_id`, `spec`, `price`) VALUES (2, 1, &amp;#39;高配版&amp;#39;, 8000);&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;运行完成后, 表的数据结构应该为:&lt;/p&gt;</description>
    </item>
    <item>
      <title>MyBatis-Plus 读写 Mysql的Json类型字段数据</title>
      <link>http://localhost:1313/posts/post/2020/mybatis-plus-%E8%AF%BB%E5%86%99-mysql%E7%9A%84json%E7%B1%BB%E5%9E%8B%E5%AD%97%E6%AE%B5%E6%95%B0%E6%8D%AE/</link>
      <pubDate>Fri, 05 Jun 2020 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/posts/post/2020/mybatis-plus-%E8%AF%BB%E5%86%99-mysql%E7%9A%84json%E7%B1%BB%E5%9E%8B%E5%AD%97%E6%AE%B5%E6%95%B0%E6%8D%AE/</guid>
      <description>&lt;p&gt;Mybatis-Plus是一款相当优秀的开源框架, 为单表操作提供了极大的便利. 这次阿航在写服务端时, 需要对MySQL的json类型字段进行操作, 忙活了一阵, 终于找到了解决方案, 并在本篇文章进行记录.&lt;/p&gt;&#xA;&lt;h2 id=&#34;需具备的条件&#34;&gt;需具备的条件&lt;/h2&gt;&#xA;&lt;p&gt;本篇文章环境:&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;环境&lt;/th&gt;&#xA;          &lt;th&gt;版本号&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;Mybatis-Plus&lt;/td&gt;&#xA;          &lt;td&gt;3.3.2&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;p&gt;本篇文章假定:&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;你掌握Java/Kotlin基础(注解)&lt;/li&gt;&#xA;&lt;li&gt;你掌握Mybatis以及Mybatis-Plus的基本使用&lt;/li&gt;&#xA;&lt;li&gt;你了解FastJSON或Gson&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;[epcl_box type=&amp;ldquo;notice&amp;rdquo;]如果还不具备以上的条件, 阅读本篇文章可能会有阻碍! 建议先满足条件后再尝试阅读![/epcl_box]&lt;/p&gt;&#xA;&lt;p&gt;[epcl_box type=&amp;ldquo;information&amp;rdquo;]老规矩, 速度快的同学直接向下拉. 看核心代码.[/epcl_box]&lt;/p&gt;&#xA;&lt;h2 id=&#34;场景&#34;&gt;场景&lt;/h2&gt;&#xA;&lt;p&gt;我们拥有一个json类型的数据库字段, 我们在进行写操作时, 不希望将对象转为json字符串再存数据库. 读数据也是一样. 我们希望这一切自动完成.&lt;/p&gt;&#xA;&lt;h2 id=&#34;准备工作&#34;&gt;准备工作&lt;/h2&gt;&#xA;&lt;p&gt;我们先来创建一个数据库表:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;CREATE TABLE `mybatis_json_test`  (&#xA;  `id` int(10) NOT NULL AUTO_INCREMENT PRIMARY KEY,&#xA;  `extra_object` json NULL,&#xA;  `extra_list` json NULL,&#xA;  `extra_array` json NULL&#xA;);&#xA;&#xA;INSERT INTO `mybatis_json_test`&#xA;VALUES&#xA;&#x9;( 1, &amp;#39;{\&amp;#34;id\&amp;#34;: 1, \&amp;#34;name\&amp;#34;: \&amp;#34;2\&amp;#34;}&amp;#39;, &amp;#39;[{\&amp;#34;id\&amp;#34;: 1, \&amp;#34;name\&amp;#34;: \&amp;#34;2\&amp;#34;}]&amp;#39;, &amp;#39;[{\&amp;#34;id\&amp;#34;: 1, \&amp;#34;name\&amp;#34;: \&amp;#34;2\&amp;#34;}]&amp;#39; );&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;实战开始&#34;&gt;实战开始&lt;/h2&gt;&#xA;&lt;h3 id=&#34;创建表对应实体类&#34;&gt;创建表对应实体类&lt;/h3&gt;&#xA;&lt;p&gt;首先创建实体类&lt;code&gt;MybatisJsonTest&lt;/code&gt;:&lt;/p&gt;</description>
    </item>
    <item>
      <title>MySQL 创建用户 &amp; 授权</title>
      <link>http://localhost:1313/posts/post/2020/mysql-%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7-%E6%8E%88%E6%9D%83/</link>
      <pubDate>Mon, 11 May 2020 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/posts/post/2020/mysql-%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7-%E6%8E%88%E6%9D%83/</guid>
      <description>&lt;p&gt;MySQL 等主流 数据库 的最高权限一般是root用户. 有时我们需要提供数据库的账号和密码以使用某些服务. 但实际上每个服务只会使用1个左右的数据库. 直接将root账号和密码随意分配是一件很危险的事情. 所以我们需要单独的 创建用户, 并 授权 需要的数据库给它.&lt;/p&gt;&#xA;&lt;h2 id=&#34;用户管理&#34;&gt;用户管理&lt;/h2&gt;&#xA;&lt;h3 id=&#34;创建用户&#34;&gt;创建用户&lt;/h3&gt;&#xA;&lt;p&gt;创建用户harrison, 并指定IP为192.118.1.1; 设置密码为123&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;CREATE USER &amp;#39;harrison&amp;#39; @&amp;#39;192.118.1.1&amp;#39; IDENTIFIED BY &amp;#39;123&amp;#39;;&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;创建用户harrison, 任意IP即可登录; 设置密码为123&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;CREATE USER &amp;#39;harrison&amp;#39; @&amp;#39;%&amp;#39; IDENTIFIED BY &amp;#39;123&amp;#39;;&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;删除用户&#34;&gt;删除用户&lt;/h3&gt;&#xA;&lt;p&gt;删除用户名为harrison, 且IP为192.118.1.1的用户&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;DROP USER &amp;#39;harrison&amp;#39; @&amp;#39;192.118.1.1&amp;#39;;&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;修改用户名及ip&#34;&gt;修改用户名及IP&lt;/h3&gt;&#xA;&lt;p&gt;修改用户名为harrison, 不限制登录IP的用户 -&amp;gt; 用户名harry, 限制登录IP为192.168.1.1&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;RENAME USER &amp;#39;harrison&amp;#39; @&amp;#39;%&amp;#39; TO &amp;#39;harry&amp;#39; @&amp;#39;192.168.1.1&amp;#39;;&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;修改用户密码&#34;&gt;修改用户密码&lt;/h3&gt;&#xA;&lt;p&gt;修改用户名为harrison, 不限制登录IP的用户的密码为456&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;SET PASSWORD FOR &amp;#39;harrison&amp;#39; @&amp;#39;%&amp;#39; = PASSWORD ( &amp;#39;456&amp;#39; );&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;用户授权&#34;&gt;用户授权&lt;/h2&gt;&#xA;&lt;h3 id=&#34;查看用户拥有权限&#34;&gt;查看用户拥有权限&lt;/h3&gt;&#xA;&lt;p&gt;查看用户harrison拥有的权限:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;SHOW GRANTS FOR &amp;#39;harrison&amp;#39; @&amp;#39;%&amp;#39;;&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;赋予权限&#34;&gt;赋予权限&lt;/h3&gt;&#xA;&lt;p&gt;为harrison提供db1数据库的table1表SELECT(查询)、INSERT(新增)、UPDATE(修改)权限&lt;/p&gt;</description>
    </item>
    <item>
      <title>Docker 安装 MySQL</title>
      <link>http://localhost:1313/posts/post/2020/docker-%E5%AE%89%E8%A3%85-mysql/</link>
      <pubDate>Mon, 13 Apr 2020 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/posts/post/2020/docker-%E5%AE%89%E8%A3%85-mysql/</guid>
      <description>&lt;p&gt;本文为 docker 安装 mysql 容器的完整详细教程.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;  &lt;blockquote&gt;&#xA;    &lt;p&gt;若图片展示异常, 请访问我的&lt;a href=&#34;https://blog.bugcatt.com/archives/267&#34; target=&#34;_blank&#34;&gt;官方博客&lt;/a&gt;&#xA;&lt;/p&gt;&#xA;  &lt;/blockquote&gt;&#xA;&#xA;&lt;h2 id=&#34;准备工作&#34;&gt;准备工作&lt;/h2&gt;&#xA;&lt;h3 id=&#34;开发环境&#34;&gt;开发环境&lt;/h3&gt;&#xA;&lt;p&gt;本博客的环境一览:&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;环境&lt;/th&gt;&#xA;          &lt;th&gt;版本号&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;docker&lt;/td&gt;&#xA;          &lt;td&gt;1.13.1&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&#xA;&#xA;&#xA;  &lt;blockquote&gt;&#xA;    &lt;p&gt;注意您的环境和文中的差异, 避免出现不兼容的情况哦!&lt;/p&gt;&#xA;  &lt;/blockquote&gt;&#xA;&#xA;&lt;h3 id=&#34;需具备的条件&#34;&gt;需具备的条件&lt;/h3&gt;&#xA;&lt;p&gt;要顺利阅读本文, 假定您已经掌握了以下知识:&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;docker环境已正常安装&lt;/li&gt;&#xA;&lt;li&gt;掌握基本的终端命令&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h2 id=&#34;实战开始&#34;&gt;实战开始&lt;/h2&gt;&#xA;&lt;h3 id=&#34;查询所有的mysql镜像&#34;&gt;查询所有的mysql镜像&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;docker search mysql&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;选择并拉取你想要的镜像这里拿官方的mysql8进行举例&#34;&gt;选择并拉取你想要的镜像(这里拿官方的mysql8进行举例)&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;docker pull mysql:8.0&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;查询已下载的mysql镜像&#34;&gt;查询已下载的MySQL镜像&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;docker images |grep mysql&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;使用镜像创建容器&#34;&gt;使用镜像创建容器&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;docker run -p 3306:3306 --name mymysql -v $PWD/conf:/etc/mysql/conf.d -v $PWD/logs:/logs -v $PWD/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 -d mysql:8.0&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;解析:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;-p 3306:3306&lt;/code&gt;&lt;/strong&gt;：将容器的 3306 端口映射到主机的 3306 端口。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;-v $PWD/conf:/etc/mysql/conf.d&lt;/code&gt;&lt;/strong&gt;：将主机当前目录下的 &lt;code&gt;conf/my.cnf&lt;/code&gt; 挂载到容器的&lt;code&gt;/etc/mysql/my.cnf&lt;/code&gt;。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;-v $PWD/logs:/logs&lt;/code&gt;&lt;/strong&gt;：将主机当前目录下的 logs 目录挂载到容器的 &lt;code&gt;/logs&lt;/code&gt;。&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;&lt;code&gt;-v $PWD/data:/var/lib/mysql&lt;/code&gt;&lt;/strong&gt; ：将主机当前目录下的&lt;code&gt;data&lt;/code&gt;目录挂载到容器的 &lt;code&gt;/var/lib/mysql&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;**&lt;code&gt;-e MYSQL_ROOT_PASSWORD=123456&lt;/code&gt;：**初始化 root 用户的密码。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;查看容器运行情况&#34;&gt;查看容器运行情况&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;docker ps&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;优雅关闭&#34;&gt;优雅关闭&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;docker stop [容器id]&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;启动已停止的容器&#34;&gt;启动已停止的容器&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;docker start [容器id]&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;重启容器&#34;&gt;重启容器&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;docker restart [容器id]&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;大功告成&#34;&gt;大功告成&lt;/h2&gt;&#xA;&lt;p&gt;通过以上的一些步骤, 我们完成了Dokcer安装Mysql的目标, 是不是很简单?&lt;/p&gt;</description>
    </item>
  </channel>
</rss>

<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Flutter踩坑 on 阿航的技术小站</title>
    <link>http://localhost:1313/categories/flutter%E8%B8%A9%E5%9D%91/</link>
    <description>Recent content in Flutter踩坑 on 阿航的技术小站</description>
    <generator>Hugo</generator>
    <language>zh-CN</language>
    <lastBuildDate>Tue, 02 Jun 2020 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/categories/flutter%E8%B8%A9%E5%9D%91/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Default value of an optional parameter must be constant</title>
      <link>http://localhost:1313/posts/post/2020/default-value-of-an-optional-parameter-must-be-constant/</link>
      <pubDate>Tue, 02 Jun 2020 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/posts/post/2020/default-value-of-an-optional-parameter-must-be-constant/</guid>
      <description>&lt;p&gt;今天阿航在使用Flutter进行开发时, 希望为&lt;code&gt;final&lt;/code&gt;修饰的实例变量提供默认值. 尝试过程中IDE报错:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Default values of an optional parameter must be constant.&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;本篇文章就来记录下碰到这种问题该如何解决!&lt;/p&gt;&#xA;&lt;h2 id=&#34;错误示例&#34;&gt;错误示例&lt;/h2&gt;&#xA;&lt;p&gt;[epcl_box type=&amp;ldquo;information&amp;rdquo;]因为阿航出错的源码并不便于演示, 所以这里采用Stack Overflow上的简单示范, 使大家更直观的解决问题.[/epcl_box]&lt;/p&gt;&#xA;&lt;p&gt;先来看下错误源码:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;enum MyEnum { a, b }&#xA;&#xA;class ClassA {&#xA;  final MyEnum myEnum;&#xA;  ClassA({this.myEnum = MyEnum.a});&#xA;}&#xA;&#xA;class ClassB {&#xA;  final ClassA classA;&#xA;  ClassB({this.classA = ClassA()}); // ClassA 报错&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;乍一看似乎没有什么问题, 但是实际上Dart并不允许这种写法.&lt;/p&gt;&#xA;&lt;h2 id=&#34;解决方案&#34;&gt;解决方案&lt;/h2&gt;&#xA;&lt;p&gt;其实解决方案很简单, 来看下修改后的代码(注意高亮的行):&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;enum MyEnum { a, b }&#xA;&#xA;class ClassA {&#xA;  final MyEnum myEnum;&#xA;  const ClassA({this.myEnum = MyEnum.a});&#xA;}&#xA;&#xA;class ClassB {&#xA;  final ClassA classA;&#xA;  ClassB({this.classA = const ClassA()});&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&#xA;  &lt;blockquote&gt;&#xA;    &lt;p&gt;可以看出, 我们在&lt;code&gt;ClassA&lt;/code&gt;构造函数前增加了&lt;code&gt;const&lt;/code&gt;进行修饰. 并在&lt;code&gt;ClassB&lt;/code&gt;设置classA的默认值时做了同样的操作.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Scaffold.of() called with a context that does not contain a Scaffold</title>
      <link>http://localhost:1313/posts/post/2020/scaffold-of-called-with-a-context-that-does-not-contain-a-scaffold/</link>
      <pubDate>Fri, 29 May 2020 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/posts/post/2020/scaffold-of-called-with-a-context-that-does-not-contain-a-scaffold/</guid>
      <description>&lt;p&gt;今天阿航在研究底部弹出提示&lt;code&gt;showSnackBar()&lt;/code&gt;组件时碰到了这个报错:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Scaffold.of() called with a context that does not contain a Scaffold.&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;本篇文章就来记录下这种报错该如何解决!&lt;/p&gt;&#xA;&lt;h2 id=&#34;问题原因&#34;&gt;问题原因&lt;/h2&gt;&#xA;&lt;p&gt;完整报错日志:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;════════ Exception caught by gesture ═══════════════════════════════════════════════════════════════&#xA;The following assertion was thrown while handling a gesture:&#xA;Scaffold.of() called with a context that does not contain a Scaffold.&#xA;&#xA;No Scaffold ancestor could be found starting from the context that was passed to Scaffold.of(). This usually happens when the context provided is from the same StatefulWidget as that whose build function actually creates the Scaffold widget being sought.&#xA;&#xA;There are several ways to avoid this problem. The simplest is to use a Builder to get a context that is &amp;#34;under&amp;#34; the Scaffold. For an example of this, please see the documentation for Scaffold.of():&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;先来看下阿航出错的源码:&lt;/p&gt;</description>
    </item>
    <item>
      <title>Waiting for another flutter command to release the startup lock...</title>
      <link>http://localhost:1313/posts/post/2020/waiting-for-another-flutter-command-to-release-the-startup-lock/</link>
      <pubDate>Tue, 26 May 2020 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/posts/post/2020/waiting-for-another-flutter-command-to-release-the-startup-lock/</guid>
      <description>&lt;p&gt;又是开发APP的一天, 但是在执行Flutter命令时, 终端中返回:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Waiting for another flutter command to release the startup lock…&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;字面意思是: 正在等待另一个正在执行的Flutter命令完成&amp;hellip; 本篇文章就来记录一下如何如何解决这种问题.&lt;/p&gt;&#xA;&lt;h2 id=&#34;出现原因&#34;&gt;出现原因&lt;/h2&gt;&#xA;&lt;p&gt;非常明显, 它告诉了我们已经有另一个Flutter命令正在执行! 一方面因为国内网络的原因, 有些命令执行相当慢. 导致可能很久之前执行的命令到现在也没完成. 亦或者是Flutter自己在后台执行了一些命令.&lt;/p&gt;&#xA;&lt;h2 id=&#34;解决方案&#34;&gt;解决方案&lt;/h2&gt;&#xA;&lt;p&gt;所以, 要解决这个问题, 我们的目标就确定了. 那就是关闭掉当前执行的Flutter命令进程!&lt;/p&gt;&#xA;&lt;p&gt;这里阿航给大家提供了若干方法, 大家可以按需选择.&lt;/p&gt;&#xA;&lt;h3 id=&#34;方法一-安全地等待执行结束&#34;&gt;方法一: 安全地等待执行结束&lt;/h3&gt;&#xA;&lt;p&gt;这个是最省心, 也是最安全的方式. 因为强行停止某个进程可能会出现各种异常, 甚至会导致需要重新安装Flutter&amp;hellip; 如果真变成这样就糟透了😭😭😭&lt;/p&gt;&#xA;&lt;p&gt;当然, 有时我们不想等, 那么就需要下面的方法了.&lt;/p&gt;&#xA;&lt;h3 id=&#34;方法二-taskkill&#34;&gt;方法二: taskkill&lt;/h3&gt;&#xA;&lt;p&gt;打开Flutter安装目录, 复制&lt;code&gt;dart.exe&lt;/code&gt;的路径(一般会在&lt;code&gt;flutter安装目录\bin\cache\dart-sdk\bin&lt;/code&gt;).&lt;/p&gt;&#xA;&lt;p&gt;打开Powershell或CMD.&lt;/p&gt;&#xA;&lt;p&gt;若盘符不一致, 需要先切换盘符, 比如当前在C盘, 切换至D盘:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;D:&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;CD进入刚才复制的路径:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;cd flutter安装目录\bin\cache\dart-sdk\bin&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;使用taskkill关闭进程:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;taskkill /F /IM dart.exe&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;如果返回类似这样的信息即是成功:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;taskkill /F /IM dart.exe&#xA;成功: 已终止进程 &amp;#34;dart.exe&amp;#34;，其 PID 为 9804。&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;[epcl_box type=&amp;ldquo;success&amp;rdquo;]这是目前最便捷的强行关闭方式![/epcl_box]&lt;/p&gt;&#xA;&lt;h3 id=&#34;方法三-任务管理器关闭dart进程&#34;&gt;方法三: 任务管理器关闭dart进程&lt;/h3&gt;&#xA;&lt;p&gt;打开任务管理器, 点击详细信息:&lt;/p&gt;</description>
    </item>
    <item>
      <title>Flutter 清理编译缓存</title>
      <link>http://localhost:1313/posts/post/2020/flutter-%E6%B8%85%E7%90%86%E7%BC%96%E8%AF%91%E7%BC%93%E5%AD%98/</link>
      <pubDate>Thu, 23 Apr 2020 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/posts/post/2020/flutter-%E6%B8%85%E7%90%86%E7%BC%96%E8%AF%91%E7%BC%93%E5%AD%98/</guid>
      <description>&lt;p&gt;在使用Flutter进行开发时, 经常会产生很多的编译缓存文件, 比如:&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;images/01-2.png&#34; alt=&#34;Flutter 清理编译缓存&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;这样可以加快下次的编译速度. 但有时会出现一些我们神奇的报错, 很有可能是缓存不兼容所造成的! 有时出现的无解bug, 重启一下IDE或模拟器, 清理一下缓存就会被解决&amp;hellip; 别问, 问就是阿航踩过好几次坑😢😢😢😢&lt;/p&gt;&#xA;&lt;p&gt;这一篇就会讲如何清理flutter的编译缓存. (不是APP的数据缓存, 别弄混!)&lt;/p&gt;&#xA;&lt;h2 id=&#34;方法一-ide自带清理按钮&#34;&gt;方法一: IDE自带清理按钮&lt;/h2&gt;&#xA;&lt;p&gt;这里拿官方推荐的&lt;code&gt;Android Studio&lt;/code&gt;举例:&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;images/02-2.png&#34; alt=&#34;Flutter 清理编译缓存&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;方法二-使用命令行清理&#34;&gt;方法二: 使用命令行清理&lt;/h2&gt;&#xA;&lt;p&gt;使用终端(cmd)进入项目目录.&lt;/p&gt;&#xA;&lt;p&gt;输入清理命令:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;flutter clean&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;清理完成&#34;&gt;清理完成&lt;/h2&gt;&#xA;&lt;p&gt;清理完成后, 可以看到之前的&lt;code&gt;.dart_tool&lt;/code&gt;以及&lt;code&gt;build&lt;/code&gt;目录被清理干净, 下次编译会从0开始. 也可能顺便解决你的一些未知bug😜&lt;/p&gt;&#xA;&lt;h2 id=&#34;结语&#34;&gt;结语&lt;/h2&gt;&#xA;&lt;p&gt;本篇文章来自&lt;a href=&#34;https://blog.bugcatt.com&#34; target=&#34;_blank&#34;&gt;阿航的技术小站&lt;/a&gt;&#xA;.&lt;/p&gt;&#xA;&lt;p&gt;对文章有任何问题, 欢迎在下方评论区进行讨论. 阿航会尽力回复.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Flutter 踩坑 A package may not list itself as a dependency</title>
      <link>http://localhost:1313/posts/post/2020/flutter-a-package-may-not-list-itself-as-a-dependency/</link>
      <pubDate>Fri, 10 Apr 2020 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/posts/post/2020/flutter-a-package-may-not-list-itself-as-a-dependency/</guid>
      <description>&lt;p&gt;在使用 Flutter 开发APP时, 运行&lt;code&gt;flutter package get&lt;/code&gt;命令, 控制台报了 A package may not list itself as a dependency 的错误.&lt;/p&gt;&#xA;&lt;h2 id=&#34;问题展示&#34;&gt;问题展示&lt;/h2&gt;&#xA;&lt;p&gt;运行&lt;code&gt;flutter package get&lt;/code&gt;, 控制台报错如下:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;原因&#34;&gt;原因&lt;/h2&gt;&#xA;&lt;p&gt;检查你的Flutter项目, 是否与即将导入的第三方库重名.&lt;/p&gt;&#xA;&lt;h2 id=&#34;解决方案&#34;&gt;解决方案&lt;/h2&gt;&#xA;&lt;h3 id=&#34;方案一-修改项目名-推荐&#34;&gt;方案一: 修改项目名 (推荐)&lt;/h3&gt;&#xA;&lt;p&gt;修改你的项目名称. 这种方法虽然会很麻烦, 但是毕竟人家的项目先上传的😅😅.&lt;/p&gt;&#xA;&lt;h3 id=&#34;方案二-寻找功能相似的第三方库不推荐&#34;&gt;方案二: 寻找功能相似的第三方库(不推荐)&lt;/h3&gt;&#xA;&lt;p&gt;寻找功能相似的第三方库(不推荐)&lt;/p&gt;&#xA;&lt;h2 id=&#34;结语&#34;&gt;结语&lt;/h2&gt;&#xA;&lt;p&gt;对文章若有任何问题、异议以及改进建议, 欢迎在下方进行评论. 作者将尽快回复! 获取最新文章, 欢迎阅读&lt;a href=&#34;https://blog.bugcatt.com/?p=208&#34; target=&#34;_blank&#34;&gt;官方博客&lt;/a&gt;&#xA;.&lt;/p&gt;&#xA;&lt;p&gt;更多更好的教程/博客/资讯, 欢迎访问我的官网: &lt;a href=&#34;https://blog.bugcatt.com&#34; target=&#34;_blank&#34;&gt;阿航的技术小站&lt;/a&gt;&#xA;.&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
